LAMMPS (7 Feb 2024 - Development)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# Compute elastic constant tensor for a crystal at finite temperature
#
# WARNING: This script attempts to measure small differences in
# statistical averages generated by finite temperature MD simulations.
# This creates many more opportunities for errors to occur, compared
# to the zero temperature version provided in examples/ELASTIC.
# Hence, it is always a good idea to start with the zero temperature
# calculation, before attempting to use this script.
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, MD parameters, deformation parameters,
#		  and initial configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the MD sampling of stress components
#  is generating accurate statistical averages.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to
#  check for finite size effects.
#

# include init.mod

# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 2.0e-2

# real units, elastic constants in GPa
units		metal
atom_style atomic
variable cfac equal 1.0e-4
variable cunits string GPa

# Define MD parameters
variable nevery equal 10                  # sampling interval
variable nrepeat equal 10                 # number of samples
variable nfreq equal ${nevery}*${nrepeat} # length of one average
variable nfreq equal 10*${nrepeat} 
variable nfreq equal 10*10 
variable nthermo equal ${nfreq}           # interval for thermo output
variable nthermo equal 100           
variable nequil equal 10*${nthermo}       # length of equilibration run
variable nequil equal 10*100       
variable nrun equal 3*${nthermo}          # length of equilibrated run
variable nrun equal 3*100          
variable temp equal 300                   # temperature of initial sample
variable timestep equal 0.00001             # timestep
variable adiabatic equal 2                # adiabatic (1) or isothermal (2)
variable tdamp equal 0.0001                 # time constant for thermostat
variable seed equal 123457                # seed for thermostat

# generate the box and atom positions using a diamond lattice
variable a equal 5.431

boundary	p p p
newton off


box tilt large

The 'box' command has been removed and will be ignored

read_data tob14_ref_deepmd.data
Reading data file ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  104 atoms
  read_data CPU = 0.001 seconds

pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1
mass            1 40.079800
mass            2 28.08500
mass            3 15.9994
mass            4 1.00794


change_box all triclinic
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)

velocity	all create 300 12345

thermo 100
min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.22 | 4.22 | 4.22 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300           -634.11682      0             -630.12268      3397.4449    
        26   300           -649.98145      0             -645.98731      3397.4449    
Loop time of 11.8472 on 1 procs for 26 steps with 104 atoms

99.1% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -634.116821289062  -649.981506347656    -649.9814453125
  Force two-norm initial, final = 19.474757 12.041474
  Force max component initial, final = 4.7437563 4.6168356
  Final line search alpha, max atom move = 8.0689256e-11 3.7252903e-10
  Iterations, force evaluations = 26 319

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 11.844     | 11.844     | 11.844     |   0.0 | 99.98
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012236  | 0.0012236  | 0.0012236  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001574   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1143 ave        1143 max        1143 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7564 ave        7564 max        7564 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7564
Ave neighs/atom = 72.730769
Neighbor list builds = 0
Dangerous builds = 0

thermo_style  custom step temp press etotal lx ly lz xy yz xz pxx pyy pzz

timestep 0.0001

thermo 100

fix 4 all nve
fix 5 all langevin 300.0 300.0 0.001 12547
#fix 4 all nvt temp 300 300 0.01
run 500
Per MPI rank memory allocation (min/avg/max) = 3.095 | 3.095 | 3.095 Mbytes
   Step          Temp          Press          TotEng           Lx             Ly             Lz             Xy             Yz             Xz            Pxx            Pyy            Pzz      
        26   300            3397.4449     -643.65399      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3196.8488      3316.3257      3679.1603    
       100   311.0532       3522.6204     -640.02209      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     4036.4961      4011.2535      2520.1116    
       200   362.90682      4109.8531     -640.78692      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3716.8991      4653.6083      3959.0519    
       300   297.28454      3366.6929     -642.29134      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3540.6753      3289.8488      3269.5545    
       400   272.99271      3091.5924     -644.34797      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     2909.6503      2744.441       3620.6858    
       500   306.75633      3473.9592     -643.52669      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3338.8072      3424.6432      3658.4271    
       526   298.30032      3378.1964     -643.65496      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3246.16        3413.9521      3474.477     
Loop time of 12.0073 on 1 procs for 500 steps with 104 atoms

Performance: 0.360 ns/day, 66.707 hours/ns, 41.641 timesteps/s, 4.331 katom-step/s
99.4% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 11.998     | 11.998     | 11.998     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001841   | 0.001841   | 0.001841   |   0.0 |  0.02
Output  | 0.00031315 | 0.00031315 | 0.00031315 |   0.0 |  0.00
Modify  | 0.0058848  | 0.0058848  | 0.0058848  |   0.0 |  0.05
Other   |            | 0.0009222  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1137 ave        1137 max        1137 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7562 ave        7562 max        7562 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7562
Ave neighs/atom = 72.711538
Neighbor list builds = 0
Dangerous builds = 0

#unfix 4
#unfix 5

#fix 123 all nvt temp 300 300 0.01
#fix 123 all npt temp 300 300 0.01 tri 1.01325 1.01325 0.1
#run 1000

#unfix 123

# Compute initial state

variable thermostat equal 1
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.22 | 4.22 | 4.22 Mbytes
   Step          Temp          Press          TotEng           Lx             Ly             Lz             Xy             Yz             Xz            Pxx            Pyy            Pzz      
         0   298.30032      3378.1964     -644.94866      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3246.16        3413.9521      3474.477     
        29   298.30032      3378.1964     -770.02129      6.9541015      6.3530143      28.422936      2.6303553      1.3928068      0.54033995     3246.16        3413.9521      3474.477     
Loop time of 5.89903 on 1 procs for 29 steps with 104 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -648.920166015625  -794.241760253906  -773.992797851562
  Force two-norm initial, final = 13.972933 362.66886
  Force max component initial, final = 3.3700898 201.54718
  Final line search alpha, max atom move = 3.4677474e-13 6.989147e-11
  Iterations, force evaluations = 29 119

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 5.8974     | 5.8974     | 5.8974     |   0.0 | 99.97
Neigh   | 0.00051278 | 0.00051278 | 0.00051278 |   0.0 |  0.01
Comm    | 0.00045098 | 0.00045098 | 0.00045098 |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0006364  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7562 ave        7562 max        7562 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7562
Ave neighs/atom = 72.711538
Neighbor list builds = 1
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 3.095 | 3.095 | 3.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        29   298.30032     -773.9928       3378.1964      0              0              0              0              0              0            
       100   318.33951     -779.52905      3605.1366      0              0              0              0              0              0            
       200   299.01534     -782.81989      3386.2938      3842.7198      3859.0302      3587.7002      231.93867     -47.895187      125.80309    
       300   321.7282      -787.65417      3643.5128      3598.6489      3447.2829      3759.003       227.30712     -95.445123     -13.07347     
       400   298.63714     -791.74603      3382.0108      3474.5894      3928.8397      3549.7741      37.070467     -13.672492     -108.08078    
       500   321.93038     -795.24207      3645.8025      3564.8505      3621.2147      3550.1742      28.300662     -46.117602      168.83154    
       600   317.5846      -799.18689      3596.5873      3735.8874      4011.618       3412.8521      47.443633      412.51243      125.58486    
       700   303.20475     -802.35748      3433.7382      3528.479       3812.3022      3689.1485      151.46883     -47.403263     -15.067591    
       800   328.04401     -804.51794      3715.0383      3701.8373      3804.5097      3495.0285     -1.7683862      90.856143     -47.699256    
       900   329.94069     -807.23462      3736.5178      3532.7439      3652.9419      3340.7257      179.25564      209.92817     -125.77879    
      1000   341.54489     -808.63599      3867.9332      3583.9833      3389.6565      3408.7231     -123.77084      196.34135      90.155602    
      1029   343.21044     -808.97046      3886.7953      3583.9833      3389.6565      3408.7231     -123.77084      196.34135      90.155602    
Loop time of 23.4836 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 652.322 hours/ns, 42.583 timesteps/s, 4.429 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.465     | 23.465     | 23.465     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.003618   | 0.003618   | 0.003618   |   0.0 |  0.02
Output  | 0.0004874  | 0.0004874  | 0.0004874  |   0.0 |  0.00
Modify  | 0.012202   | 0.012202   | 0.012202   |   0.0 |  0.05
Other   |            | 0.001848   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1131 ave        1131 max        1131 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7554 ave        7554 max        7554 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7554
Ave neighs/atom = 72.634615
Neighbor list builds = 0
Dangerous builds = 0

if "${adiabatic} == 1" then "variable thermostat equal 0" else "variable thermostat equal 1"
variable thermostat equal 1

print ${thermostat}
print 1
1

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.22 | 4.22 | 4.22 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   343.21044     -811.83026      3886.7953      0              0              0              0              0              0            
        76   343.21044     -1339.5164      3886.7953      0              0              0              0              0              0            
Loop time of 20.0371 on 1 procs for 76 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -811.830261230469  -1339.51647949219  -1339.51635742188
  Force two-norm initial, final = 89.621374 358.11836
  Force max component initial, final = 31.073776 168.3587
  Final line search alpha, max atom move = 6.9146848e-14 1.1641474e-11
  Iterations, force evaluations = 76 830

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 20.03      | 20.03      | 20.03      |   0.0 | 99.96
Neigh   | 0.00051875 | 0.00051875 | 0.00051875 |   0.0 |  0.00
Comm    | 0.0030697  | 0.0030697  | 0.0030697  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.003724   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1158 ave        1158 max        1158 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7572 ave        7572 max        7572 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7572
Ave neighs/atom = 72.807692
Neighbor list builds = 1
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 3.095 | 3.095 | 3.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        76   343.21044     -1341.7976      3886.7953      0              0              0              0              0              0            
       100   364.42122     -1343.3082      4127.0034      0              0              0              0              0              0            
       200   376.96381     -1346.8413      4269.0459      3765.157       3762.3793      3644.5794     -67.851198      2.9511484     -128.36517    
       300   346.63929     -1349.4523      3925.6264      3514.4477      3492.254       3764.0353      135.12411      74.421885      168.20764    
       376   300.71087     -1351.0057      3405.4954      3514.4477      3492.254       3764.0353      135.12411      74.421885      168.20764    
Loop time of 7.02118 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 650.109 hours/ns, 42.728 timesteps/s, 4.444 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0158     | 7.0158     | 7.0158     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0010839  | 0.0010839  | 0.0010839  |   0.0 |  0.02
Output  | 0.00014399 | 0.00014399 | 0.00014399 |   0.0 |  0.00
Modify  | 0.0036246  | 0.0036246  | 0.0036246  |   0.0 |  0.05
Other   |            | 0.0005218  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1155 ave        1155 max        1155 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7526 ave        7526 max        7526 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7526
Ave neighs/atom = 72.365385
Neighbor list builds = 0
Dangerous builds = 0

variable pxx0 equal f_avp[1]
variable pyy0 equal f_avp[2]
variable pzz0 equal f_avp[3]
variable pxy0 equal f_avp[4]
variable pxz0 equal f_avp[5]
variable pyz0 equal f_avp[6]

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 6.95410149254538
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 6.35301429848309
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 28.4229356586947

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-3514.44765139447)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-3514.44765139447)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-3492.25395777654)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1-3492.25395777654)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-3764.03533767231)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-3764.03533767231)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-168.20764003459)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-168.20764003459)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-74.4218851965727)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-74.4218851965727)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-135.124106153833)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-135.124106153833)/(v_delta/v_len0)*0.0001

# Write restart
write_restart restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 6.95410149254538
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        28   300.71087     -1458.6472      0             -1454.6436      3405.4954    
Loop time of 12.0501 on 1 procs for 28 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469   -1458.6474609375  -1458.64721679688
  Force two-norm initial, final = 162.26691 99.668114
  Force max component initial, final = 48.431194 35.223392
  Final line search alpha, max atom move = 6.6101062e-13 2.3283037e-11
  Iterations, force evaluations = 28 367

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 12.047     | 12.047     | 12.047     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0014329  | 0.0014329  | 0.0014329  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00165    |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.95410149254538
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.139082029850908 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.139082029850908 xy delta -0.0526071050219228 xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.139082029850908 xy delta -0.0526071050219228 xz delta -0.0108067990505754 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.8150195 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (6.8150195 6.3530143 28.422936) with tilt (2.5777481 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (6.8150195 6.3530143 28.422936) with tilt (2.5777481 0.52953315 1.3928068)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        28   300.71087     -1452.4164      3474.9953      0              0              0              0              0              0            
       100   315.5288      -1459.6709      3646.2303      0              0              0              0              0              0            
       200   294.44234     -1462.1455      3402.5566      3796.1043      3733.3679      3691.291       151.67764      17.551748      44.766091    
       300   318.27214     -1469.5126      3677.9322      3550.2781      3293.0179      3862.8356      128.26246     -155.12611      38.391456    
       400   304.83275     -1471.5615      3522.6275      3520.5514      3689.5273      3670.8583      43.712405      83.511836     -119.85788    
       500   307.07483     -1467.7612      3548.5368      3551.4123      3488.6809      3697.0605     -154.17454     -99.19877       63.230065    
       600   309.77008     -1470.9033      3579.683       3781.7133      3718.8682      3622.2477      10.293836      370.17788     -107.82977    
       700   290.95062     -1471.8362      3362.2064      3349.7466      3665.7802      3797.7108      17.109597     -17.178361      8.2335095    
       800   336.34888     -1473.1797      3886.8258      3719.7558      3754.2877      3469.2663     -84.973777      132.83206     -74.062365    
       900   316.17346     -1474.7256      3653.6801      3595.8713      3490.7217      3439.0237      64.263094      164.23325     -95.746716    
      1000   323.13146     -1473.5134      3734.0862      3580.7231      3484.0958      3440.1006     -42.58452       234.72515      157.08816    
      1028   344.83723     -1473.7839      3984.9166      3580.7231      3484.0958      3440.1006     -42.58452       234.72515      157.08816    
Loop time of 23.4868 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 652.412 hours/ns, 42.577 timesteps/s, 4.428 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.469     | 23.469     | 23.469     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0038199  | 0.0038199  | 0.0038199  |   0.0 |  0.02
Output  | 0.00045966 | 0.00045966 | 0.00045966 |   0.0 |  0.00
Modify  | 0.011912   | 0.011912   | 0.011912   |   0.0 |  0.05
Other   |            | 0.001731   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1158 ave        1158 max        1158 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7684 ave        7684 max        7684 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7684
Ave neighs/atom = 73.884615
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   344.83723     -1473.7839      3984.9166      0              0              0              0              0              0            
        25   344.83723     -1533.8091      3984.9166      0              0              0              0              0              0            
Loop time of 16.561 on 1 procs for 25 steps with 104 atoms

99.7% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1473.78393554688  -1533.80920410156  -1533.80908203125
  Force two-norm initial, final = 113.78191 98.608008
  Force max component initial, final = 33.78178 27.493189
  Final line search alpha, max atom move = 8.4686722e-13 2.3283081e-11
  Iterations, force evaluations = 25 576

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 16.557     | 16.557     | 16.557     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021872  | 0.0021872  | 0.0021872  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002307   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1156 ave        1156 max        1156 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7694 ave        7694 max        7694 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7694
Ave neighs/atom = 73.980769
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        25   344.83723     -1475.5626      3984.9166      0              0              0              0              0              0            
       100   346.65486     -1495.1241      4005.921       0              0              0              0              0              0            
       200   259.35292     -1497.1089      2997.0656      4011.142       3967.233       3630.2997      57.17017       1.2620311     -30.783246    
       300   350.35112     -1497.9761      4048.6348      3574.6282      3504.9156      4019.0445     -56.395336     -141.4092       36.342757    
       325   295.77386     -1502.4585      3417.9436      3574.6282      3504.9156      4019.0445     -56.395336     -141.4092       36.342757    
Loop time of 6.99248 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 647.452 hours/ns, 42.903 timesteps/s, 4.462 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.9871     | 6.9871     | 6.9871     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011194  | 0.0011194  | 0.0011194  |   0.0 |  0.02
Output  | 0.00014542 | 0.00014542 | 0.00014542 |   0.0 |  0.00
Modify  | 0.0035284  | 0.0035284  | 0.0035284  |   0.0 |  0.05
Other   |            | 0.000539   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1147 ave        1147 max        1147 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7678 ave        7678 max        7678 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7678
Ave neighs/atom = 73.826923
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.300902709564299
variable C2neg equal ${d2}
variable C2neg equal 0.0633081132828986
variable C3neg equal ${d3}
variable C3neg equal 1.2750460284309
variable C4neg equal ${d4}
variable C4neg equal -0.659324416165579
variable C5neg equal ${d5}
variable C5neg equal -1.07915542697612
variable C6neg equal ${d6}
variable C6neg equal -0.95759721022686

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0056      0             -1347.002       3405.4954    
        25   300.71087     -1442.3365      0             -1438.3329      3405.4954    
Loop time of 11.9172 on 1 procs for 25 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00561523438  -1442.33666992188  -1442.33654785156
  Force two-norm initial, final = 162.2668 312.19469
  Force max component initial, final = 48.431358 120.19473
  Final line search alpha, max atom move = 9.6856331e-14 1.164162e-11
  Iterations, force evaluations = 25 483

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 11.913     | 11.913     | 11.913     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00185    | 0.00185    | 0.00185    |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002003   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.95410149254538
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.139082029850908 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.139082029850908 xy delta 0.0526071050219228 xz delta ${deltaxz} remap units box
change_box all x delta 0 0.139082029850908 xy delta 0.0526071050219228 xz delta 0.0108067990505754 remap units box
Changing box ...
  triclinic box = (0 0 0) to (7.0931835 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (7.0931835 6.3530143 28.422936) with tilt (2.6829624 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (7.0931835 6.3530143 28.422936) with tilt (2.6829624 0.55114675 1.3928068)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        25   300.71087     -1381.2616      3338.721       0              0              0              0              0              0            
       100   365.25685     -1394.2417      4055.3596      0              0              0              0              0              0            
       200   262.75843     -1404.5344      2917.3441      4090.6551      4028.2168      3661.9339     -141.75738     -63.09397       21.814127    
       300   342.47929     -1408.6426      3802.4658      3673.6119      3452.4736      3887.7846     -85.768567     -138.97788      45.93721     
       400   267.42882     -1412.2952      2969.1983      3440.5342      3654.9151      3527.4925     -192.8062       143.48502     -46.421094    
       500   278.67469     -1415.3682      3094.0586      3432.9811      3236.0396      3610.9178     -238.44044     -35.969108      62.982411    
       600   305.66613     -1418.4065      3393.738       3549.7297      3555.0369      3335.9555     -180.77988      275.34334     -105.3314     
       700   303.82251     -1416.9387      3373.2688      3346.7806      3679.023       3743.3665     -101.5112       21.975919      49.847907    
       800   335.22424     -1427.3608      3721.9147      3614.0717      3395.7346      3515.4112     -4.6691523      104.56188     -127.24529    
       900   332.9922      -1429.8585      3697.1328      3612.447       3437.6911      3413.5521      105.12574      102.42259     -168.59753    
      1000   266.48248     -1430.8558      2958.6914      3390.3771      3234.2186      3383.0459      41.423705      158.12806      102.35592    
      1025   356.01072     -1431.3827      3952.7021      3390.3771      3234.2186      3383.0459      41.423705      158.12806      102.35592    
Loop time of 23.4004 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 650.012 hours/ns, 42.734 timesteps/s, 4.444 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.383     | 23.383     | 23.383     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0037701  | 0.0037701  | 0.0037701  |   0.0 |  0.02
Output  | 0.00040401 | 0.00040401 | 0.00040401 |   0.0 |  0.00
Modify  | 0.011908   | 0.011908   | 0.011908   |   0.0 |  0.05
Other   |            | 0.001776   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1144 ave        1144 max        1144 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7340 ave        7340 max        7340 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7340
Ave neighs/atom = 70.576923
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   356.01072     -1430.8425      3952.7021      0              0              0              0              0              0            
        19   356.01072     -1455.9447      3952.7021      0              0              0              0              0              0            
Loop time of 13.7178 on 1 procs for 19 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1430.84252929688  -1455.94482421875  -1455.94470214844
  Force two-norm initial, final = 674.43204 118.82125
  Force max component initial, final = 407.06158 48.937275
  Final line search alpha, max atom move = 4.7576053e-13 2.3282424e-11
  Iterations, force evaluations = 19 456

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 13.714     | 13.714     | 13.714     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017195  | 0.0017195  | 0.0017195  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001849   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7332 ave        7332 max        7332 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7332
Ave neighs/atom = 70.5
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        19   356.01072     -1424.9302      3952.7021      0              0              0              0              0              0            
       100   287.77123     -1420.7773      3195.0553      0              0              0              0              0              0            
       200   267.9213      -1426.2936      2974.6662      3724.5247      3582.3577      3403.4132      125.33985      42.675792     -9.7227779    
       300   317.39955     -1427.5479      3524.0114      3452.364       3194.4438      3633.5097      102.72761     -129.49278     -64.700466    
       319   303.55928     -1427.8257      3370.3462      3452.364       3194.4438      3633.5097      102.72761     -129.49278     -64.700466    
Loop time of 6.97931 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 646.233 hours/ns, 42.984 timesteps/s, 4.470 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.974      | 6.974      | 6.974      |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011124  | 0.0011124  | 0.0011124  |   0.0 |  0.02
Output  | 0.00015311 | 0.00015311 | 0.00015311 |   0.0 |  0.00
Modify  | 0.0035186  | 0.0035186  | 0.0035186  |   0.0 |  0.05
Other   |            | 0.0005307  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7352 ave        7352 max        7352 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7352
Ave neighs/atom = 70.692308
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 0.310418333455849
variable C2pos equal ${d2}
variable C2pos equal 1.4890505508552
variable C3pos equal ${d3}
variable C3pos equal 0.652628354547399
variable C4pos equal ${d4}
variable C4pos equal 1.16454053212714
variable C5pos equal ${d5}
variable C5pos equal 1.01957330857199
variable C6pos equal ${d6}
variable C6pos equal 0.161982471119645

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(0.300902709564299+${C1pos})
variable C11 equal 0.5*(0.300902709564299+0.310418333455849)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(0.0633081132828986+${C2pos})
variable C21 equal 0.5*(0.0633081132828986+1.4890505508552)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(1.2750460284309+${C3pos})
variable C31 equal 0.5*(1.2750460284309+0.652628354547399)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-0.659324416165579+${C4pos})
variable C41 equal 0.5*(-0.659324416165579+1.16454053212714)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-1.07915542697612+${C5pos})
variable C51 equal 0.5*(-1.07915542697612+1.01957330857199)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(-0.95759721022686+${C6pos})
variable C61 equal 0.5*(-0.95759721022686+0.161982471119645)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 6.35301429848309
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        22   300.71087     -1423.0244      0             -1419.0208      3405.4954    
Loop time of 10.4337 on 1 procs for 22 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469  -1423.02453613281   -1423.0244140625
  Force two-norm initial, final = 162.2668 113.41727
  Force max component initial, final = 48.431232 32.650932
  Final line search alpha, max atom move = 7.1308692e-13 2.3282953e-11
  Iterations, force evaluations = 22 416

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 10.43      | 10.43      | 10.43      |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0016787  | 0.0016787  | 0.0016787  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001944   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.35301429848309
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -0.127060285969662 yz delta ${deltayz} remap units box
change_box all y delta 0 -0.127060285969662 yz delta -0.0278561361757582 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.225954 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (6.9541015 6.225954 28.422936) with tilt (2.6303553 0.54033995 1.3649507)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        22   300.71087     -1413.583       3474.9953      0              0              0              0              0              0            
       100   326.44102     -1414.9865      3772.3312      0              0              0              0              0              0            
       200   273.29026     -1419.0693      3158.1246      4037.4864      3856.8682      3447.5993      143.53373      39.62278       89.564947    
       300   350.98679     -1418.5011      4055.9806      3573.34        3334.7473      3748.146       26.99632      -165.27423     -49.652953    
       400   260.49767     -1421.0562      3010.2941      3470.4215      3832.8429      3521.9422     -31.686796     -61.518599     -71.145548    
       500   262.68852     -1422.4976      3035.6115      3305.7426      3550.1164      3543.4107     -53.744386     -56.944486      86.153596    
       600   283.65532     -1423.5398      3277.9025      3512.1328      3618.5662      3431.2271      23.076231      250.65445     -50.109811    
       700   308.80268     -1424.7781      3568.5037      3491.7534      3609.7324      3944.6568      43.936374      82.67458       111.09402    
       800   322.61793     -1425.7917      3728.1519      3792.3075      3601.1963      3378.0125     -3.541408       19.736266     -35.896169    
       900   324.93041     -1427.1891      3754.8748      3488.8731      3333.2062      3440.9059      105.98159      169.30566     -76.659504    
      1000   299.10952     -1428.6587      3456.4902      3750.4878      3398.89        3449.1761      25.503603      150.62259      90.844464    
      1022   344.899       -1428.4985      3985.6304      3750.4878      3398.89        3449.1761      25.503603      150.62259      90.844464    
Loop time of 23.5376 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 653.822 hours/ns, 42.485 timesteps/s, 4.418 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.52      | 23.52      | 23.52      |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0036661  | 0.0036661  | 0.0036661  |   0.0 |  0.02
Output  | 0.00041324 | 0.00041324 | 0.00041324 |   0.0 |  0.00
Modify  | 0.01168    | 0.01168    | 0.01168    |   0.0 |  0.05
Other   |            | 0.00175    |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1161 ave        1161 max        1161 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7694 ave        7694 max        7694 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7694
Ave neighs/atom = 73.980769
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   344.899       -1428.4985      3985.6304      0              0              0              0              0              0            
        32   344.899       -1485.6261      3985.6304      0              0              0              0              0              0            
Loop time of 16.6407 on 1 procs for 32 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1428.49853515625   -1485.6259765625  -1485.62609863281
  Force two-norm initial, final = 122.52198 145.29855
  Force max component initial, final = 36.436287 53.442162
  Final line search alpha, max atom move = 4.3566685e-13 2.3282978e-11
  Iterations, force evaluations = 32 582

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 16.636     | 16.636     | 16.636     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020821  | 0.0020821  | 0.0020821  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002311   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1155 ave        1155 max        1155 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7690 ave        7690 max        7690 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7690
Ave neighs/atom = 73.942308
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        32   344.899       -1486.0403      3985.6304      0              0              0              0              0              0            
       100   325.26566     -1481.8433      3758.7489      0              0              0              0              0              0            
       200   339.95422     -1482.5217      3928.4889      3898.5287      4051.7405      3407.5267      93.437355     -89.465012      61.068103    
       300   301.64372     -1480.2034      3485.7752      3443.2233      3189.5768      3652.2001      35.828143     -202.73855     -73.523465    
       332   296.94906     -1480.6172      3431.5241      3443.2233      3189.5768      3652.2001      35.828143     -202.73855     -73.523465    
Loop time of 7.02101 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 650.094 hours/ns, 42.729 timesteps/s, 4.444 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0158     | 7.0158     | 7.0158     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0010716  | 0.0010716  | 0.0010716  |   0.0 |  0.02
Output  | 0.00014045 | 0.00014045 | 0.00014045 |   0.0 |  0.00
Modify  | 0.0034839  | 0.0034839  | 0.0034839  |   0.0 |  0.05
Other   |            | 0.0005333  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1152 ave        1152 max        1152 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7686 ave        7686 max        7686 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7686
Ave neighs/atom = 73.903846
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.3561219873102
variable C2neg equal ${d2}
variable C2neg equal -1.5133857976271
variable C3neg equal ${d3}
variable C3neg equal -0.55917634821605
variable C4neg equal ${d4}
variable C4neg equal -1.2086555266424
variable C5neg equal ${d5}
variable C5neg equal -1.38580215411712
variable C6neg equal ${d6}
variable C6neg equal -0.496479817231895

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0056      0             -1347.002       3405.4954    
        31   300.71087     -1434.365       0             -1430.3614      3405.4954    
Loop time of 15.3406 on 1 procs for 31 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00561523438  -1434.36499023438  -1434.36499023438
  Force two-norm initial, final = 162.26638 92.812127
  Force max component initial, final = 48.431118 31.589821
  Final line search alpha, max atom move = 7.3704392e-13 2.3283085e-11
  Iterations, force evaluations = 31 631

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 15.336     | 15.336     | 15.336     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0023976  | 0.0023976  | 0.0023976  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002521   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.35301429848309
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 0.127060285969662 yz delta ${deltayz} remap units box
change_box all y delta 0 0.127060285969662 yz delta 0.0278561361757582 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.4800746 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  triclinic box = (0 0 0) to (6.9541015 6.4800746 28.422936) with tilt (2.6303553 0.54033995 1.4206629)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        31   300.71087     -1397.0732      3338.721       0              0              0              0              0              0            
       100   321.65675     -1401.6785      3571.278       0              0              0              0              0              0            
       200   330.56619     -1391.713       3670.1974      3737.5545      3925.3909      3352.6086      68.658127     -101.72883      4.2014875    
       300   312.6016      -1393.769       3470.741       3345.2812      3080.6925      3656.6991      44.522507     -168.24548     -40.324245    
       400   276.1899      -1395.4407      3066.4705      3483.3816      3561.9542      3584.293       14.394576      88.340886     -125.85577    
       500   293.08553     -1397.1362      3254.0586      3349.1217      3443.857       3366.1999     -83.762581     -56.569232      138.03548    
       600   302.27238     -1398.2236      3356.058       3415.0098      3663.7114      3235.2275      111.43379      320.64948      0.67738995   
       700   308.34662     -1398.9387      3423.4989      3285.57        3507.2915      3683.6963      10.85828       24.541022      64.032621    
       800   321.76346     -1399.5542      3572.4629      3631.1447      3431.9659      3392.0635     -133.48107     -45.001366      13.830363    
       900   336.31012     -1400.5625      3733.9709      3419.6995      3240.1548      3127.3158      200.06592      230.67137     -224.03253    
      1000   352.81505     -1400.881       3917.2212      3591.009       3251.0673      3310.4104     -35.664218      141.7744       53.261888    
      1031   345.89982     -1401.1558      3840.4431      3591.009       3251.0673      3310.4104     -35.664218      141.7744       53.261888    
Loop time of 23.3913 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 649.758 hours/ns, 42.751 timesteps/s, 4.446 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.373     | 23.373     | 23.373     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0038381  | 0.0038381  | 0.0038381  |   0.0 |  0.02
Output  | 0.0004145  | 0.0004145  | 0.0004145  |   0.0 |  0.00
Modify  | 0.011902   | 0.011902   | 0.011902   |   0.0 |  0.05
Other   |            | 0.001857   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1142 ave        1142 max        1142 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7392 ave        7392 max        7392 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7392
Ave neighs/atom = 71.076923
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   345.89982     -1401.156       3840.4431      0              0              0              0              0              0            
        27   345.89982     -1437.8214      3840.4431      0              0              0              0              0              0            
Loop time of 15.3495 on 1 procs for 27 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1401.15600585938  -1437.82153320312  -1437.82141113281
  Force two-norm initial, final = 102.08616 92.002212
  Force max component initial, final = 29.032551 32.545418
  Final line search alpha, max atom move = 1.4308042e-12 4.6566121e-11
  Iterations, force evaluations = 27 523

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 15.345     | 15.345     | 15.345     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019594  | 0.0019594  | 0.0019594  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002142   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1142 ave        1142 max        1142 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7382 ave        7382 max        7382 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7382
Ave neighs/atom = 70.980769
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        27   345.89982     -1437.8215      3840.4431      0              0              0              0              0              0            
       100   312.94206     -1430.2122      3474.521       0              0              0              0              0              0            
       200   265.04493     -1439.6271      2942.7306      3577.7289      3581.7919      3479.347       126.51568      92.660699      56.973019    
       300   320.2377      -1440.4458      3555.5228      3223.943       3132.4831      3755.4633      21.341516     -179.37215      77.254458    
       327   302.49208     -1440.8091      3358.4974      3223.943       3132.4831      3755.4633      21.341516     -179.37215      77.254458    
Loop time of 6.92903 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 641.577 hours/ns, 43.296 timesteps/s, 4.503 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.9239     | 6.9239     | 6.9239     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001088   | 0.001088   | 0.001088   |   0.0 |  0.02
Output  | 0.00013578 | 0.00013578 | 0.00013578 |   0.0 |  0.00
Modify  | 0.003424   | 0.003424   | 0.003424   |   0.0 |  0.05
Other   |            | 0.0005266  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1142 ave        1142 max        1142 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7374 ave        7374 max        7374 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7374
Ave neighs/atom = 70.903846
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 1.4525233085081
variable C2pos equal ${d2}
variable C2pos equal 1.79885428670245
variable C3pos equal ${d3}
variable C3pos equal 0.0428603816365011
variable C4pos equal ${d4}
variable C4pos equal 0.454765909714439
variable C5pos equal ${d5}
variable C5pos equal 1.26897017773288
variable C6pos equal ${d6}
variable C6pos equal 0.568912948640915

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(-0.3561219873102+${C1pos})
variable C12 equal 0.5*(-0.3561219873102+1.4525233085081)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(-1.5133857976271+${C2pos})
variable C22 equal 0.5*(-1.5133857976271+1.79885428670245)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(-0.55917634821605+${C3pos})
variable C32 equal 0.5*(-0.55917634821605+0.0428603816365011)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-1.2086555266424+${C4pos})
variable C42 equal 0.5*(-1.2086555266424+0.454765909714439)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-1.38580215411712+${C5pos})
variable C52 equal 0.5*(-1.38580215411712+1.26897017773288)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-0.496479817231895+${C6pos})
variable C62 equal 0.5*(-0.496479817231895+0.568912948640915)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 28.4229356586947
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0056      0             -1347.002       3405.4954    
        25   300.71087     -1423.0852      0             -1419.0816      3405.4954    
Loop time of 13.085 on 1 procs for 25 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00561523438  -1423.08520507812  -1423.08520507812
  Force two-norm initial, final = 162.26688 105.96081
  Force max component initial, final = 48.431091 31.08197
  Final line search alpha, max atom move = 7.4908411e-13 2.328301e-11
  Iterations, force evaluations = 25 535

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 13.081     | 13.081     | 13.081     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0020024  | 0.0020024  | 0.0020024  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00207    |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*28.4229356586947
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 27.854477) with tilt (2.6303553 0.54033995 1.3928068)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        25   300.71087     -1423.4624      3474.9953      0              0              0              0              0              0            
       100   320.19315     -1424.9446      3700.1313      0              0              0              0              0              0            
       200   262.50334     -1427.2074      3033.4716      3873.1809      3753.1666      3530.0961      95.878191      55.292255     -56.909912    
       300   335.04676     -1427.4701      3871.7786      3477.09        3384.3964      3988.0846     -17.089343     -121.67686      88.100982    
       400   260.20232     -1428.8209      3006.8811      3429.2711      3755.414       3524.346      -89.644465      31.019753      90.788899    
       500   280.1883      -1430.6821      3237.8378      3565.3761      3336.1831      3666.0447     -171.33166     -49.931395      111.85554    
       600   289.90527     -1431.3677      3350.1265      3614.0087      3525.8139      3398.0759     -101.74159      307.14887     -152.30975    
       700   291.05846     -1432.3972      3363.4527      3350.1928      3731.2288      3850.5266     -69.223549     -10.919264      82.868207    
       800   338.89912     -1433.3926      3916.2963      3715.9475      3437.0993      3601.267       33.004628      117.38011     -106.22598    
       900   326.68806     -1434.8547      3775.186       3729.4655      3503.8832      3569.3518      126.90658      73.254096     -123.82984    
      1000   271.8458      -1435.8997      3141.4324      3611.1488      3351.9441      3538.4795      70.292879      215.39086      139.26948    
      1025   344.7215      -1436.3373      3983.5793      3611.1488      3351.9441      3538.4795      70.292879      215.39086      139.26948    
Loop time of 23.6081 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 655.779 hours/ns, 42.358 timesteps/s, 4.405 katom-step/s
99.4% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.59      | 23.59      | 23.59      |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0038055  | 0.0038055  | 0.0038055  |   0.0 |  0.02
Output  | 0.00038855 | 0.00038855 | 0.00038855 |   0.0 |  0.00
Modify  | 0.011934   | 0.011934   | 0.011934   |   0.0 |  0.05
Other   |            | 0.001728   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1155 ave        1155 max        1155 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7682 ave        7682 max        7682 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7682
Ave neighs/atom = 73.865385
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   344.7215      -1436.3374      3983.5793      0              0              0              0              0              0            
        24   344.7215      -1463.3955      3983.5793      0              0              0              0              0              0            
Loop time of 22.7372 on 1 procs for 24 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1436.33740234375  -1463.39575195312   -1463.3955078125
  Force two-norm initial, final = 121.04456 242.33276
  Force max component initial, final = 31.608032 106.4345
  Final line search alpha, max atom move = 1.093781e-13 1.1641604e-11
  Iterations, force evaluations = 24 838

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 22.731     | 22.731     | 22.731     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0032203  | 0.0032203  | 0.0032203  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.003271   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7672 ave        7672 max        7672 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7672
Ave neighs/atom = 73.769231
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        24   344.7215      -1464.5908      3983.5793      0              0              0              0              0              0            
       100   309.84803     -1458.2389      3580.5837      0              0              0              0              0              0            
       200   280.26347     -1459.5388      3238.7065      3953.4563      3832.1525      3553.1718      153.86053     -36.038371     -73.249945    
       300   345.55511     -1461.8099      3993.2124      3499.5751      3444.5589      4000.0759     -13.653694     -109.55333     -19.573455    
       324   323.45953     -1450.144       3737.8773      3499.5751      3444.5589      4000.0759     -13.653694     -109.55333     -19.573455    
Loop time of 7.06359 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 654.036 hours/ns, 42.471 timesteps/s, 4.417 katom-step/s
99.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0583     | 7.0583     | 7.0583     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011361  | 0.0011361  | 0.0011361  |   0.0 |  0.02
Output  | 0.00012136 | 0.00012136 | 0.00012136 |   0.0 |  0.00
Modify  | 0.0035075  | 0.0035075  | 0.0035075  |   0.0 |  0.05
Other   |            | 0.000517   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1153 ave        1153 max        1153 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7690 ave        7690 max        7690 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7690
Ave neighs/atom = 73.942308
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.0743627718450011
variable C2neg equal ${d2}
variable C2neg equal -0.2384751341231
variable C3neg equal ${d3}
variable C3neg equal 1.18020271180865
variable C4neg equal ${d4}
variable C4neg equal -0.938905473873027
variable C5neg equal ${d5}
variable C5neg equal -0.919876080753014
variable C6neg equal ${d6}
variable C6neg equal -0.74388900174634

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        19   300.71087     -1425.1174      0             -1421.1138      3405.4954    
Loop time of 4.34067 on 1 procs for 19 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469  -1425.11743164062  -1425.11743164062
  Force two-norm initial, final = 162.26696 139.94753
  Force max component initial, final = 48.431 43.361534
  Final line search alpha, max atom move = 5.3694912e-13 2.3282937e-11
  Iterations, force evaluations = 19 161

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 4.3393     | 4.3393     | 4.3393     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00062845 | 0.00062845 | 0.00062845 |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0007173  |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*28.4229356586947
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.991394) with tilt (2.6303553 0.54033995 1.3928068)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        19   300.71087     -1397.2064      3338.721       0              0              0              0              0              0            
       100   294.48049     -1412.8521      3269.5465      0              0              0              0              0              0            
       200   272.92986     -1414.6958      3030.275       3608.3777      3398.1467      3476.0466      204.7376       75.522811      43.751471    
       300   317.0098      -1404.4727      3519.6841      3364.3936      3216.2108      3682.2718      137.51677     -46.087486     -28.889523    
       400   289.11493     -1415.4801      3209.974       3333.9266      3535.1279      3533.4367     -50.957617     -46.587843     -52.775637    
       500   331.86254     -1417.4357      3684.5906      3335.8921      3538.6757      3618.0186     -6.3092242      39.650112      189.51949    
       600   272.25005     -1418.3423      3022.7273      3512.267       3584.9092      3282.4123     -68.729609      315.98152     -56.892615    
       700   308.2552      -1408.8601      3422.4839      3285.1228      3715.8414      3624.1264      52.340178      102.41078     -79.065266    
       800   313.08742     -1409.8696      3476.1349      3697.2094      3693.6194      3289.8161      0.51881541     95.216663      30.051836    
       900   337.19935     -1419.9902      3743.8439      3406.4241      3455.7825      3452.1657      85.693095      256.33352     -113.43314    
      1000   288.28485     -1411.0287      3200.7578      3410.0999      3433.0789      3309.7993     -106.9716       181.58131      141.04505    
      1019   344.99227     -1411.1562      3830.3669      3410.0999      3433.0789      3309.7993     -106.9716       181.58131      141.04505    
Loop time of 23.4341 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 650.947 hours/ns, 42.673 timesteps/s, 4.438 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.416     | 23.416     | 23.416     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0038016  | 0.0038016  | 0.0038016  |   0.0 |  0.02
Output  | 0.00039635 | 0.00039635 | 0.00039635 |   0.0 |  0.00
Modify  | 0.011953   | 0.011953   | 0.011953   |   0.0 |  0.05
Other   |            | 0.001796   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1137 ave        1137 max        1137 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7344 ave        7344 max        7344 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7344
Ave neighs/atom = 70.615385
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   344.99227     -1411.1564      3830.3669      0              0              0              0              0              0            
        13   344.99227     -1431.785       3830.3669      0              0              0              0              0              0            
Loop time of 11.5306 on 1 procs for 13 steps with 104 atoms

99.4% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1411.15637207031     -1431.78515625  -1431.78503417969
  Force two-norm initial, final = 100.37442 126.44991
  Force max component initial, final = 28.678852 38.543594
  Final line search alpha, max atom move = 6.0407385e-13 2.3283177e-11
  Iterations, force evaluations = 13 469

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 11.527     | 11.527     | 11.527     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017338  | 0.0017338  | 0.0017338  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001831   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1137 ave        1137 max        1137 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7342 ave        7342 max        7342 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7342
Ave neighs/atom = 70.596154
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        13   344.99227     -1431.7852      3830.3669      0              0              0              0              0              0            
       100   336.03913     -1422.9226      3730.9622      0              0              0              0              0              0            
       200   312.06614     -1423.7899      3464.7959      3699.7936      3671.0007      3272.4294      142.45628     -39.248565      44.844546    
       300   310.80206     -1434.3113      3450.761       3286.8681      3353.9221      3563.4229     -38.149758     -175.57101     -96.134825    
       313   305.31976     -1434.4905      3389.8924      3286.8681      3353.9221      3563.4229     -38.149758     -175.57101     -96.134825    
Loop time of 7.08864 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 656.355 hours/ns, 42.321 timesteps/s, 4.401 katom-step/s
99.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0831     | 7.0831     | 7.0831     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011569  | 0.0011569  | 0.0011569  |   0.0 |  0.02
Output  | 0.00017258 | 0.00017258 | 0.00017258 |   0.0 |  0.00
Modify  | 0.0036116  | 0.0036116  | 0.0036116  |   0.0 |  0.05
Other   |            | 0.0005514  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1140 ave        1140 max        1140 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7338 ave        7338 max        7338 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7338
Ave neighs/atom = 70.557692
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 1.13789787249935
variable C2pos equal ${d2}
variable C2pos equal 0.69165907007575
variable C3pos equal ${d3}
variable C3pos equal 1.00306212425355
variable C4pos equal ${d4}
variable C4pos equal 1.3217123271263
variable C5pos equal ${d5}
variable C5pos equal 1.24996445517851
variable C6pos equal ${d6}
variable C6pos equal 0.866369323098298

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(-0.0743627718450011+${C1pos})
variable C13 equal 0.5*(-0.0743627718450011+1.13789787249935)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(-0.2384751341231+${C2pos})
variable C23 equal 0.5*(-0.2384751341231+0.69165907007575)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(1.18020271180865+${C3pos})
variable C33 equal 0.5*(1.18020271180865+1.00306212425355)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-0.938905473873027+${C4pos})
variable C43 equal 0.5*(-0.938905473873027+1.3217123271263)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-0.919876080753014+${C5pos})
variable C53 equal 0.5*(-0.919876080753014+1.24996445517851)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(-0.74388900174634+${C6pos})
variable C63 equal 0.5*(-0.74388900174634+0.866369323098298)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 28.4229356586947
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0056      0             -1347.002       3405.4954    
        41   300.71087     -1457.0486      0             -1453.045       3405.4954    
Loop time of 22.5778 on 1 procs for 41 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00561523438    -1457.048828125  -1457.04858398438
  Force two-norm initial, final = 162.26652 241.84899
  Force max component initial, final = 48.431293 127.14474
  Final line search alpha, max atom move = 1.8312325e-13 2.3283159e-11
  Iterations, force evaluations = 41 935

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 22.571     | 22.571     | 22.571     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0035013  | 0.0035013  | 0.0035013  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.003688   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*28.4229356586947
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 0.8243481)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        41   300.71087     -1430.1523      3405.4954      0              0              0              0              0              0            
       100   381.44096     -1434.6021      4319.7489      0              0              0              0              0              0            
       200   314.85824     -1447.844       3565.7118      3828.8653      4155.7927      3423.8907      105.60632     -166.40463      131.34955    
       300   276.39292     -1438.4209      3130.0991      3562.4432      3303.2607      3667.5506      106.95936     -85.277307     -88.865832    
       400   312.93901     -1440.0958      3543.9768      3485.6308      3636.7013      3825.3961      17.916453      34.252474     -69.870833    
       500   294.06215     -1441.2676      3330.1999      3320.6558      3499.4553      3377.585      -86.898571     -100.9288      -11.708055    
       600   335.64054     -1443.3416      3801.0675      3555.0939      3813.4615      3280.1651      175.06917      382.36897      13.605393    
       700   317.78812     -1443.6509      3598.8922      3305.0626      3594.791       3848.613      -76.595527      17.365813      21.514231    
       800   299.80089     -1445.6069      3395.19        3651.9384      3512.8912      3481.1192     -106.48949     -39.48153       42.641485    
       900   279.48866     -1447.0432      3165.1578      3463.801       3362.8904      3156.6746      160.63752      246.47413     -192.4697     
      1000   280.07844     -1447.6462      3171.8369      3605.3871      3185.1504      3523.6418     -18.752416      124.30644      56.461082    
      1041   345.72244     -1448.0571      3915.2432      3605.3871      3185.1504      3523.6418     -18.752416      124.30644      56.461082    
Loop time of 23.3646 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 649.018 hours/ns, 42.800 timesteps/s, 4.451 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.347     | 23.347     | 23.347     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0036939  | 0.0036939  | 0.0036939  |   0.0 |  0.02
Output  | 0.00040747 | 0.00040747 | 0.00040747 |   0.0 |  0.00
Modify  | 0.011541   | 0.011541   | 0.011541   |   0.0 |  0.05
Other   |            | 0.001666   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7516 ave        7516 max        7516 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7516
Ave neighs/atom = 72.269231
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   345.72244     -1448.0571      3915.2432      0              0              0              0              0              0            
        24   345.72244     -1480.1849      3915.2432      0              0              0              0              0              0            
Loop time of 14.5235 on 1 procs for 24 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1448.05712890625  -1480.18505859375  -1480.18493652344
  Force two-norm initial, final = 114.60866 142.96875
  Force max component initial, final = 31.60866 55.329685
  Final line search alpha, max atom move = 4.2080599e-13 2.3283063e-11
  Iterations, force evaluations = 24 485

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 14.52      | 14.52      | 14.52      |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018487  | 0.0018487  | 0.0018487  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001934   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7514 ave        7514 max        7514 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7514
Ave neighs/atom = 72.25
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        24   345.72244     -1441.2673      3915.2432      0              0              0              0              0              0            
       100   332.11711     -1454.3104      3761.1653      0              0              0              0              0              0            
       200   283.09593     -1460.73        3206.0094      4065.0502      3996.3557      3443.0049      47.271904     -92.918819     -63.518517    
       300   347.58612     -1462.605       3936.349       3451.145       3416.9837      3887.9558     -72.293843     -154.44183     -8.8380195    
       324   306.18013     -1463.1255      3467.4338      3451.145       3416.9837      3887.9558     -72.293843     -154.44183     -8.8380195    
Loop time of 7.07286 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 654.895 hours/ns, 42.416 timesteps/s, 4.411 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0675     | 7.0675     | 7.0675     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011171  | 0.0011171  | 0.0011171  |   0.0 |  0.02
Output  | 0.00014229 | 0.00014229 | 0.00014229 |   0.0 |  0.00
Modify  | 0.0035334  | 0.0035334  | 0.0035334  |   0.0 |  0.05
Other   |            | 0.0005244  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1144 ave        1144 max        1144 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7512 ave        7512 max        7512 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7512
Ave neighs/atom = 72.230769
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.316513099323699
variable C2neg equal ${d2}
variable C2neg equal -0.376351313264102
variable C3neg equal ${d3}
variable C3neg equal 0.619602245475251
variable C4neg equal ${d4}
variable C4neg equal -0.88522829763776
variable C5neg equal ${d5}
variable C5neg equal -1.14431859035137
variable C6neg equal ${d6}
variable C6neg equal -1.03708974770579

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        28   300.71087     -1453.1543      0             -1449.1507      3405.4954    
Loop time of 14.1661 on 1 procs for 28 steps with 104 atoms

99.4% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469    -1453.154296875    -1453.154296875
  Force two-norm initial, final = 162.26676 211.95918
  Force max component initial, final = 48.431267 76.059563
  Final line search alpha, max atom move = 1.5306286e-13 1.1641894e-11
  Iterations, force evaluations = 28 578

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 14.162     | 14.162     | 14.162     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0021506  | 0.0021506  | 0.0021506  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002309   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*28.4229356586947
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.9612655)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        28   300.71087     -1440.5876      3405.4954      0              0              0              0              0              0            
       100   292.35342     -1442.8362      3310.8488      0              0              0              0              0              0            
       200   280.59495     -1445.0608      3177.6863      3626.7108      3668.2499      3636.334       126.95435      6.5519423      47.012075    
       300   317.448       -1447.1951      3595.0404      3424.0798      3215.796       3832.7759      116.47179     -160.54934      48.280239    
       400   304.4176      -1459.6536      3447.4734      3465.6063      3554.3811      3623.0571     -20.043226      97.201963     -140.80254    
       500   302.34049     -1461.4684      3423.9505      3439.8481      3415.2648      3715.1691     -133.78833     -109.01278      69.170875    
       600   312.25359     -1462.9717      3536.2146      3690.6449      3683.3073      3559.7016     -13.649541      358.43048     -93.862376    
       700   295.26987     -1453.7328      3343.8771      3291.4659      3640.535       3703.5417     -5.4298953     -30.624932      7.4930806    
       800   331.15464     -1455.0642      3750.2656      3651.335       3757.066       3390.7751     -87.022286      106.35468     -69.140869    
       900   317.62027     -1456.2529      3596.9913      3485.7624      3432.5448      3345.5453      80.390574      175.8497      -113.79835    
      1000   327.47759     -1467.6046      3708.6236      3498.3291      3416.3388      3375.0608     -24.81026       228.0306       148.83517    
      1028   351.97434     -1457.2119      3986.0448      3498.3291      3416.3388      3375.0608     -24.81026       228.0306       148.83517    
Loop time of 23.5089 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 653.025 hours/ns, 42.537 timesteps/s, 4.424 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.491     | 23.491     | 23.491     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0037015  | 0.0037015  | 0.0037015  |   0.0 |  0.02
Output  | 0.00038404 | 0.00038404 | 0.00038404 |   0.0 |  0.00
Modify  | 0.011783   | 0.011783   | 0.011783   |   0.0 |  0.05
Other   |            | 0.001666   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7518 ave        7518 max        7518 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7518
Ave neighs/atom = 72.288462
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   351.97434     -1421.5312      3986.0448      0              0              0              0              0              0            
        20   351.97434     -1461.3774      3986.0448      0              0              0              0              0              0            
Loop time of 10.2212 on 1 procs for 20 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
           -1421.53125  -1461.37731933594  -1461.37744140625
  Force two-norm initial, final = 651.34078 113.26485
  Force max component initial, final = 277.79681 41.135674
  Final line search alpha, max atom move = 5.6600155e-13 2.3282855e-11
  Iterations, force evaluations = 20 305

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 10.219     | 10.219     | 10.219     |   0.0 | 99.98
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011448  | 0.0011448  | 0.0011448  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001278   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7516 ave        7516 max        7516 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7516
Ave neighs/atom = 72.269231
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        20   351.97434     -1458.5033      3986.0448      0              0              0              0              0              0            
       100   334.62016     -1460.3516      3789.5119      0              0              0              0              0              0            
       200   263.53013     -1471.9812      2984.4303      3677.4188      3587.6403      3348.2608      238.47565      97.936875     -28.806437    
       300   323.13071     -1473.5701      3659.396       3506.8175      3235.277       3697.5571      114.64821     -81.079017     -90.878036    
       320   299.12108     -1473.7905      3387.4913      3506.8175      3235.277       3697.5571      114.64821     -81.079017     -90.878036    
Loop time of 7.04482 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 652.298 hours/ns, 42.584 timesteps/s, 4.429 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0393     | 7.0393     | 7.0393     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011261  | 0.0011261  | 0.0011261  |   0.0 |  0.02
Output  | 0.00014708 | 0.00014708 | 0.00014708 |   0.0 |  0.00
Modify  | 0.003753   | 0.003753   | 0.003753   |   0.0 |  0.05
Other   |            | 0.0005064  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7514 ave        7514 max        7514 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7514
Ave neighs/atom = 72.25
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 0.0381509926498507
variable C2pos equal ${d2}
variable C2pos equal 1.2848848801738
variable C3pos equal ${d3}
variable C3pos equal 0.332390949025651
variable C4pos equal ${d4}
variable C4pos equal 1.29542837958738
variable C5pos equal ${d5}
variable C5pos equal 0.777504509772754
variable C6pos equal ${d6}
variable C6pos equal 0.10237946803952

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(-0.316513099323699+${C1pos})
variable C14 equal 0.5*(-0.316513099323699+0.0381509926498507)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(-0.376351313264102+${C2pos})
variable C24 equal 0.5*(-0.376351313264102+1.2848848801738)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(0.619602245475251+${C3pos})
variable C34 equal 0.5*(0.619602245475251+0.332390949025651)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(-0.88522829763776+${C4pos})
variable C44 equal 0.5*(-0.88522829763776+1.29542837958738)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-1.14431859035137+${C5pos})
variable C54 equal 0.5*(-1.14431859035137+0.777504509772754)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-1.03708974770579+${C6pos})
variable C64 equal 0.5*(-1.03708974770579+0.10237946803952)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 28.4229356586947
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        31   300.71087     -1454.04        0             -1450.0364      3405.4954    
Loop time of 10.3853 on 1 procs for 31 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469   -1454.0400390625   -1454.0400390625
  Force two-norm initial, final = 162.26663 190.16808
  Force max component initial, final = 48.431351 92.930557
  Final line search alpha, max atom move = 2.5054372e-13 2.3283168e-11
  Iterations, force evaluations = 31 418

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 10.382     | 10.382     | 10.382     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001559   | 0.001559   | 0.001559   |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001738   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*28.4229356586947
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 -0.028118761 1.3928068)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        31   300.71087     -1446.8374      3405.4954      0              0              0              0              0              0            
       100   319.98494     -1449.1678      3623.7707      0              0              0              0              0              0            
       200   341.38672     -1451.5288      3866.1419      3941.5882      3935.6939      3382.5545      121.75791     -59.949208     -11.775625    
       300   311.13183     -1453.8314      3523.5109      3480.0514      3093.8622      3692.2422      66.634585     -169.93736     -37.96388     
       400   271.72684     -1455.0359      3077.2566      3526.271       3773.5516      3702.9226      22.297059      92.905385     -183.16988    
       500   293.97641     -1456.1946      3329.2289      3348.4507      3482.328       3394.3469     -83.244067     -93.722169      101.52474    
       600   308.07977     -1452.5005      3488.9468      3526.0625      3728.4946      3293.7192      87.937402      338.97199     -3.8286544    
       700   313.87414     -1454.0344      3554.5671      3391.3009      3585.1037      3839.4087      60.126447      83.842003      46.453777    
       800   322.67384     -1455.5726      3654.222       3749.9657      3586.1897      3467.2736     -188.09498     -44.309626      30.609524    
       900   335.59709     -1455.7942      3800.5755      3491.74        3331.8415      3235.6828      174.59908      263.71146     -225.56494    
      1000   353.82046     -1463.3042      4006.9518      3683.3741      3331.2253      3420.8317     -37.429258      142.25967      36.328144    
      1031   361.66854     -1446.5759      4095.8298      3683.3741      3331.2253      3420.8317     -37.429258      142.25967      36.328144    
Loop time of 23.4241 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 650.669 hours/ns, 42.691 timesteps/s, 4.440 katom-step/s
99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.406     | 23.406     | 23.406     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0037157  | 0.0037157  | 0.0037157  |   0.0 |  0.02
Output  | 0.00041331 | 0.00041331 | 0.00041331 |   0.0 |  0.00
Modify  | 0.011821   | 0.011821   | 0.011821   |   0.0 |  0.05
Other   |            | 0.001833   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7518 ave        7518 max        7518 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7518
Ave neighs/atom = 72.288462
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   361.66854     -1446.5759      4095.8298      0              0              0              0              0              0            
        13   361.66854     -1464.6079      4095.8298      0              0              0              0              0              0            
Loop time of 9.36568 on 1 procs for 13 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1446.57592773438  -1464.60791015625  -1464.60791015625
  Force two-norm initial, final = 225.77949 82.44121
  Force max component initial, final = 91.677368 25.653568
  Final line search alpha, max atom move = 1.8151916e-12 4.6566143e-11
  Iterations, force evaluations = 13 269

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 9.3636     | 9.3636     | 9.3636     |   0.0 | 99.98
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001016   | 0.001016   | 0.001016   |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001114   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7514 ave        7514 max        7514 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7514
Ave neighs/atom = 72.25
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        13   361.66854     -1464.6079      4095.8298      0              0              0              0              0              0            
       100   336.75781     -1453.4945      3813.7204      0              0              0              0              0              0            
       200   317.70752     -1465.9487      3597.9794      3838.1687      3783.493       3368.6083      122.33489     -28.582714      22.540766    
       300   307.52384     -1465.99        3482.651       3343.0083      3442.7854      3655.6733     -35.802739     -196.06053     -114.17142    
       313   301.66283     -1466.1396      3416.2762      3343.0083      3442.7854      3655.6733     -35.802739     -196.06053     -114.17142    
Loop time of 7.01749 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 649.767 hours/ns, 42.750 timesteps/s, 4.446 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0123     | 7.0123     | 7.0123     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0010902  | 0.0010902  | 0.0010902  |   0.0 |  0.02
Output  | 0.00013969 | 0.00013969 | 0.00013969 |   0.0 |  0.00
Modify  | 0.0034587  | 0.0034587  | 0.0034587  |   0.0 |  0.05
Other   |            | 0.0005356  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1144 ave        1144 max        1144 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.8571968637026
variable C2neg equal ${d2}
variable C2neg equal -0.2473429040252
variable C3neg equal ${d3}
variable C3neg equal -0.541810064477202
variable C4neg equal ${d4}
variable C4neg equal -1.41189530924508
variable C5neg equal ${d5}
variable C5neg equal -1.3524120576928
variable C6neg equal ${d6}
variable C6neg equal -0.854634225777141

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0056      0             -1347.002       3405.4954    
        33   300.71087     -1469.167       0             -1465.1634      3405.4954    
Loop time of 12.3177 on 1 procs for 33 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00561523438  -1469.16723632812   -1469.1669921875
  Force two-norm initial, final = 162.26677 99.044956
  Force max component initial, final = 48.431133 34.908588
  Final line search alpha, max atom move = 6.6697238e-13 2.3283064e-11
  Iterations, force evaluations = 33 500

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 12.314     | 12.314     | 12.314     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018647  | 0.0018647  | 0.0018647  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002006   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*28.4229356586947
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 0.568458713173894 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 1.1087987 1.3928068)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        33   300.71087     -1431.2324      3405.4954      0              0              0              0              0              0            
       100   373.17996     -1443.6506      4226.1946      0              0              0              0              0              0            
       200   346.9597      -1447.9968      3929.2549      3860.0188      4231.9934      3471.7554      87.278436     -89.875021      71.044712    
       300   315.01299     -1449.6074      3567.4643      3431.8633      3323.7623      3564.6063     -11.14777      -174.02918     -37.248533    
       400   289.95468     -1451.2302      3283.6836      3463.2712      3785.2594      3573.1528     -85.088181      30.051431     -129.20157    
       500   325.05208     -1452.6348      3681.1551      3319.0878      3349.0564      3505.6119     -81.111631     -80.283477      95.590333    
       600   302.90367     -1454.0032      3430.3284      3414.4632      3544.5849      3288.449      -30.576055      333.20977     -69.99006     
       700   341.62138     -1455.1005      3868.7995      3420.8782      3654.8708      3786.2711     -0.8411975      4.304057       74.988003    
       800   301.62677     -1456.0728      3415.8678      3551.5155      3349.4888      3442.6015     -176.04784      54.847581     -69.266344    
       900   340.61531     -1457.3818      3857.4059      3534.4576      3403.222       3252.9134      110.62565      91.144194     -116.67197    
      1000   329.15919     -1457.7708      3727.6674      3580.1535      3354.9208      3476.5059      69.014123      77.602467      44.135613    
      1033   343.74156     -1457.9962      3892.81        3580.1535      3354.9208      3476.5059      69.014123      77.602467      44.135613    
Loop time of 23.4896 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 652.489 hours/ns, 42.572 timesteps/s, 4.427 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.472     | 23.472     | 23.472     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.003694   | 0.003694   | 0.003694   |   0.0 |  0.02
Output  | 0.00037836 | 0.00037836 | 0.00037836 |   0.0 |  0.00
Modify  | 0.011664   | 0.011664   | 0.011664   |   0.0 |  0.05
Other   |            | 0.00177    |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7516 ave        7516 max        7516 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7516
Ave neighs/atom = 72.269231
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   343.74156     -1457.4027      3892.81        0              0              0              0              0              0            
        15   343.74156     -1475.2019      3892.81        0              0              0              0              0              0            
Loop time of 13.2504 on 1 procs for 15 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1457.40270996094  -1475.20166015625  -1475.20190429688
  Force two-norm initial, final = 649.45376 110.2831
  Force max component initial, final = 406.28555 28.254894
  Final line search alpha, max atom move = 8.2404346e-13 2.3283261e-11
  Iterations, force evaluations = 15 540

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 13.246     | 13.246     | 13.246     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.001987   | 0.001987   | 0.001987   |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002128   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7512 ave        7512 max        7512 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7512
Ave neighs/atom = 72.230769
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        15   343.74156     -1475.2017      3892.81        0              0              0              0              0              0            
       100   290.51034     -1476.1682      3289.9763      0              0              0              0              0              0            
       200   315.31285     -1474.6091      3570.8602      3741.6296      3683.2863      3444.1844      96.359764      37.328391     -53.421069    
       300   321.41255     -1475.4585      3639.9381      3406.7992      3443.1521      3804.5887     -51.242449     -214.33022     -6.1523458    
       315   298.5406      -1475.6101      3380.9175      3406.7992      3443.1521      3804.5887     -51.242449     -214.33022     -6.1523458    
Loop time of 7.02669 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 650.620 hours/ns, 42.694 timesteps/s, 4.440 katom-step/s
99.3% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.0214     | 7.0214     | 7.0214     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011229  | 0.0011229  | 0.0011229  |   0.0 |  0.02
Output  | 0.00012873 | 0.00012873 | 0.00012873 |   0.0 |  0.00
Modify  | 0.0035076  | 0.0035076  | 0.0035076  |   0.0 |  0.05
Other   |            | 0.0005381  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1144 ave        1144 max        1144 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7514 ave        7514 max        7514 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7514
Ave neighs/atom = 72.25
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 0.5382420844527
variable C2pos equal ${d2}
variable C2pos equal 0.245509286609702
variable C3pos equal ${d3}
variable C3pos equal -0.2027668290473
variable C4pos equal ${d4}
variable C4pos equal 0.871799929389003
variable C5pos equal ${d5}
variable C5pos equal 1.44376051305521
variable C6pos equal ${d6}
variable C6pos equal 0.931832774952584

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(-0.8571968637026+${C1pos})
variable C15 equal 0.5*(-0.8571968637026+0.5382420844527)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-0.2473429040252+${C2pos})
variable C25 equal 0.5*(-0.2473429040252+0.245509286609702)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(-0.541810064477202+${C3pos})
variable C35 equal 0.5*(-0.541810064477202+-0.2027668290473)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-1.41189530924508+${C4pos})
variable C45 equal 0.5*(-1.41189530924508+0.871799929389003)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(-1.3524120576928+${C5pos})
variable C55 equal 0.5*(-1.3524120576928+1.44376051305521)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-0.854634225777141+${C6pos})
variable C65 equal 0.5*(-0.854634225777141+0.931832774952584)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 6.35301429848309

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        24   300.71087     -1425.3105      0             -1421.3069      3405.4954    
Loop time of 7.92817 on 1 procs for 24 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469  -1425.31079101562    -1425.310546875
  Force two-norm initial, final = 162.26683 185.7489
  Force max component initial, final = 48.431133 65.713577
  Final line search alpha, max atom move = 3.5430791e-13 2.328284e-11
  Iterations, force evaluations = 24 312

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.9256     | 7.9256     | 7.9256     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0012129  | 0.0012129  | 0.0012129  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001398   |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*6.35301429848309
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -0.127060285969662 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.503295 0.54033995 1.3928068)

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        24   300.71087     -1417.4446      3405.4954      0              0              0              0              0              0            
       100   308.30889     -1419.1443      3491.5416      0              0              0              0              0              0            
       200   284.45185     -1418.2903      3221.365       3934.1172      3794.9728      3377.6185      136.59701     -36.793402     -22.785856    
       300   337.29632     -1419.6564      3819.8189      3462.5628      3356.2242      3769.6991     -10.048867     -104.5754       54.868122    
       400   256.69463     -1429.8816      2907.0195      3466.5847      3701.7692      3407.9567     -79.138442     -58.53321       19.530157    
       500   248.20645     -1431.1653      2810.8924      3367.5671      3278.1977      3517.1045     -102.86395     -13.462201      82.56202     
       600   284.27672     -1431.8508      3219.3817      3472.6092      3458.3276      3328.432      -125.5676       240.40934     -57.07965     
       700   289.81444     -1424.8451      3282.0953      3390.3985      3633.4167      3763.4886     -82.700087      69.87634       70.462839    
       800   313.67371     -1425.9426      3552.2972      3545.7604      3313.6892      3428.2023     -21.180162      64.835894     -96.188219    
       900   323.48064     -1427.1538      3663.3588      3672.8304      3416.0932      3423.5718      85.414227      50.323437     -135.73029    
      1000   282.43873     -1427.9896      3198.5667      3610.5282      3276.6992      3465.2058      127.41581      155.16949      128.06739    
      1024   345.92522     -1428.3242      3917.5396      3610.5282      3276.6992      3465.2058      127.41581      155.16949      128.06739    
Loop time of 23.4038 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 650.105 hours/ns, 42.728 timesteps/s, 4.444 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.386     | 23.386     | 23.386     |   0.0 | 99.93
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0036364  | 0.0036364  | 0.0036364  |   0.0 |  0.02
Output  | 0.00039802 | 0.00039802 | 0.00039802 |   0.0 |  0.00
Modify  | 0.011615   | 0.011615   | 0.011615   |   0.0 |  0.05
Other   |            | 0.0017     |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7550 ave        7550 max        7550 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7550
Ave neighs/atom = 72.596154
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   345.92522     -1428.3245      3917.5396      0              0              0              0              0              0            
        16   345.92522     -1441.8806      3917.5396      0              0              0              0              0              0            
Loop time of 15.1114 on 1 procs for 16 steps with 104 atoms

99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1428.32446289062  -1441.88061523438  -1441.88061523438
  Force two-norm initial, final = 115.44505 117.33124
  Force max component initial, final = 35.646362 37.960178
  Final line search alpha, max atom move = 6.1335159e-13 2.3282936e-11
  Iterations, force evaluations = 16 513

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 15.107     | 15.107     | 15.107     |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0019734  | 0.0019734  | 0.0019734  |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.002099   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7542 ave        7542 max        7542 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7542
Ave neighs/atom = 72.519231
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        16   345.92522     -1441.8806      3917.5396      0              0              0              0              0              0            
       100   291.28226     -1433.4802      3298.7181      0              0              0              0              0              0            
       200   316.18939     -1434.4238      3580.7869      3645.7459      3653.3295      3554.2677      99.014917      161.92523      4.0638058    
       300   311.84983     -1444.2996      3531.6421      3349.8269      3290.7823      3798.0075     -16.494586     -192.45301      42.800875    
       316   301.06636     -1444.4691      3409.5212      3349.8269      3290.7823      3798.0075     -16.494586     -192.45301      42.800875    
Loop time of 6.93298 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 641.943 hours/ns, 43.271 timesteps/s, 4.500 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 6.9277     | 6.9277     | 6.9277     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011219  | 0.0011219  | 0.0011219  |   0.0 |  0.02
Output  | 0.00015282 | 0.00015282 | 0.00015282 |   0.0 |  0.00
Modify  | 0.0034846  | 0.0034846  | 0.0034846  |   0.0 |  0.05
Other   |            | 0.000524   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1146 ave        1146 max        1146 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7540 ave        7540 max        7540 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7540
Ave neighs/atom = 72.5
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -0.823103897201898
variable C2neg equal ${d2}
variable C2neg equal -1.0073583620166
variable C3neg equal ${d3}
variable C3neg equal 0.169860721548
variable C4neg equal ${d4}
variable C4neg equal -0.627033823489776
variable C5neg equal ${d5}
variable C5neg equal -1.33437446846549
variable C6neg equal ${d6}
variable C6neg equal -0.758093458755098

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large

The 'box' command has been removed and will be ignored

read_restart restart.equil
Reading restart file ...
  restart file = 7 Feb 2024, LAMMPS = 7 Feb 2024
  restoring atom style atomic from restart
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.6303553 0.54033995 1.3928068)
  1 by 1 by 1 MPI processor grid
  pair style schnetpack stores no restart info
  104 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Neighbor list info ...
  update: every = 1 steps, delay = 0 steps, check = yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 3 10
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair schnetpack, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          E_pair         E_mol          TotEng         Press     
         0   300.71087     -1351.0057      0             -1347.0021      3405.4954    
        32   300.71087     -1463.262       0             -1459.2584      3405.4954    
Loop time of 15.2043 on 1 procs for 32 steps with 104 atoms

99.6% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1351.00573730469  -1463.26220703125  -1463.26196289062
  Force two-norm initial, final = 162.26685 158.31237
  Force max component initial, final = 48.431168 65.096558
  Final line search alpha, max atom move = 3.5766896e-13 2.3283018e-11
  Iterations, force evaluations = 32 624

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 15.2       | 15.2       | 15.2       |   0.0 | 99.97
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0023685  | 0.0023685  | 0.0023685  |   0.0 |  0.02
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00242    |            |       |  0.02

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1149 ave        1149 max        1149 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7522 ave        7522 max        7522 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7522
Ave neighs/atom = 72.326923
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*6.35301429848309
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 0.127060285969662 remap units box
Changing box ...
  triclinic box = (0 0 0) to (6.9541015 6.3530143 28.422936) with tilt (2.7574155 0.54033995 1.3928068)

# Run MD

run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        32   300.71087     -1427.3389      3405.4954      0              0              0              0              0              0            
       100   351.05304     -1437.5999      3975.6112      0              0              0              0              0              0            
       200   361.4492      -1443.0756      4093.3458      4035.3965      4276.4389      3442.8491     -3.9848902     -62.140919      60.257783    
       300   313.39902     -1444.4956      3549.1863      3497.5754      3250.1288      3576.0153     -13.298607     -200.3405      -77.524092    
       400   279.29323     -1450.5933      3162.9445      3551.4469      3853.2761      3620.9533     -44.833718      98.137452     -198.2221     
       500   307.73067     -1452.2698      3484.9933      3243.5284      3531.3121      3480.3761     -145.24132     -122.64785      112.4768     
       600   308.29385     -1454.6731      3491.3712      3426.5116      3679.2628      3283.245       45.414377      299.79015     -29.643451    
       700   333.58185     -1451.5752      3777.7533      3398.9005      3586.2229      3934.9755      43.721917      37.996928      67.862591    
       800   315.69667     -1453.189       3575.2069      3691.3625      3514.5014      3415.4737     -149.01784     -7.2502781      8.8290935    
       900   337.91238     -1453.4126      3826.7957      3463.456       3376.2839      3234.4007      125.09664      157.57504     -155.17851    
      1000   332.2419      -1458.8584      3762.5786      3616.6136      3345.3161      3433.366       15.174662      95.904303      58.795333    
      1032   351.35242     -1459.5239      3979.0016      3616.6136      3345.3161      3433.366       15.174662      95.904303      58.795333    
Loop time of 23.5025 on 1 procs for 1000 steps with 104 atoms

Performance: 0.037 ns/day, 652.847 hours/ns, 42.549 timesteps/s, 4.425 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 23.484     | 23.484     | 23.484     |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0038133  | 0.0038133  | 0.0038133  |   0.0 |  0.02
Output  | 0.00040752 | 0.00040752 | 0.00040752 |   0.0 |  0.00
Modify  | 0.012755   | 0.012755   | 0.012755   |   0.0 |  0.05
Other   |            | 0.001734   |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1155 ave        1155 max        1155 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7512 ave        7512 max        7512 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7512
Ave neighs/atom = 72.230769
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	schnetpack
pair_coeff	* * deploy_model 20 14 8 1

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
Per MPI rank memory allocation (min/avg/max) = 4.095 | 4.095 | 4.095 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
         0   351.35242     -1458.6586      3979.0016      0              0              0              0              0              0            
        19   351.35242     -1490.8042      3979.0016      0              0              0              0              0              0            
Loop time of 7.73598 on 1 procs for 19 steps with 104 atoms

99.3% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = linesearch alpha is zero
  Energy initial, next-to-last, final = 
     -1458.65856933594  -1490.80419921875  -1490.80419921875
  Force two-norm initial, final = 641.37583 112.4948
  Force max component initial, final = 407.08105 62.859909
  Final line search alpha, max atom move = 7.4079195e-13 4.6566115e-11
  Iterations, force evaluations = 19 200

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.7344     | 7.7344     | 7.7344     |   0.0 | 99.98
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00074565 | 0.00074565 | 0.00074565 |   0.0 |  0.01
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0008816  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1147 ave        1147 max        1147 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7510 ave        7510 max        7510 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7510
Ave neighs/atom = 72.211538
Neighbor list builds = 0
Dangerous builds = 0

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:904)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 1e-05
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.0001 ${seed}
fix 5 all langevin 300 300 0.0001 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.97 | 2.97 | 2.97 Mbytes
   Step          Temp          PotEng         Press         f_avp[1]       f_avp[2]       f_avp[3]       f_avp[4]       f_avp[5]       f_avp[6]   
        19   351.35242     -1490.8042      3979.0016      0              0              0              0              0              0            
       100   285.22529     -1485.6366      3230.124       0              0              0              0              0              0            
       200   274.74379     -1481.2224      3111.423       3621.0111      3488.7586      3434.3243      197.46142      104.8181       6.6551665    
       300   319.67519     -1482.6101      3620.2629      3549.3737      3238.4501      3742.3888      155.00404     -71.278761     -54.441545    
       319   300.23779     -1484.719       3400.1378      3549.3737      3238.4501      3742.3888      155.00404     -71.278761     -54.441545    
Loop time of 7.09035 on 1 procs for 300 steps with 104 atoms

Performance: 0.037 ns/day, 656.514 hours/ns, 42.311 timesteps/s, 4.400 katom-step/s
99.5% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 7.085      | 7.085      | 7.085      |   0.0 | 99.92
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0011221  | 0.0011221  | 0.0011221  |   0.0 |  0.02
Output  | 0.00014356 | 0.00014356 | 0.00014356 |   0.0 |  0.00
Modify  | 0.0035444  | 0.0035444  | 0.0035444  |   0.0 |  0.05
Other   |            | 0.0005305  |            |       |  0.01

Nlocal:            104 ave         104 max         104 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:           1147 ave        1147 max        1147 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:              0 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:         7504 ave        7504 max        7504 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 7504
Ave neighs/atom = 72.153846
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -0.174630334445148
variable C2pos equal ${d2}
variable C2pos equal 1.2690193990082
variable C3pos equal ${d3}
variable C3pos equal 0.1082327768509
variable C4pos equal ${d4}
variable C4pos equal 1.11324592511982
variable C5pos equal ${d5}
variable C5pos equal 0.728503230070919
variable C6pos equal ${d6}
variable C6pos equal -0.0993996476796398

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(-0.823103897201898+${C1pos})
variable C16 equal 0.5*(-0.823103897201898+-0.174630334445148)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(-1.0073583620166+${C2pos})
variable C26 equal 0.5*(-1.0073583620166+1.2690193990082)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(0.169860721548+${C3pos})
variable C36 equal 0.5*(0.169860721548+0.1082327768509)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-0.627033823489776+${C4pos})
variable C46 equal 0.5*(-0.627033823489776+1.11324592511982)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(-1.33437446846549+${C5pos})
variable C56 equal 0.5*(-1.33437446846549+0.728503230070919)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(-0.758093458755098+${C6pos})
variable C66 equal 0.5*(-0.758093458755098+-0.0993996476796398)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 0.305660521510074
variable C22all equal ${C22}
variable C22all equal 0.142734244537675
variable C33all equal ${C33}
variable C33all equal 1.0916324180311

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(0.54820066059895+${C21})
variable C12all equal 0.5*(0.54820066059895+0.776179332069049)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(0.531767550327174+${C31})
variable C13all equal 0.5*(0.531767550327174+0.963837191489149)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(0.226591967976325+${C32})
variable C23all equal 0.5*(0.226591967976325+-0.258157983289774)

variable C44all equal ${C44}
variable C44all equal 0.20510004097481
variable C55all equal ${C55}
variable C55all equal 0.045674227681205
variable C66all equal ${C66}
variable C66all equal -0.428746553217369

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(-0.139181053336924+${C41})
variable C14all equal 0.5*(-0.139181053336924+0.252608057980781)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-0.15947738962495+${C51})
variable C15all equal 0.5*(-0.15947738962495+-0.029791059202065)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-0.498867115823523+${C61})
variable C16all equal 0.5*(-0.498867115823523+-0.397807369553607)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(0.454266783454849+${C42})
variable C24all equal 0.5*(0.454266783454849+-0.37694480846398)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-0.000916808707749003+${C52})
variable C25all equal 0.5*(-0.000916808707749003+-0.05841598819212)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(0.1308305184958+${C62})
variable C26all equal 0.5*(0.1308305184958+0.03621656570451)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(0.475996597250451+${C43})
variable C34all equal 0.5*(0.475996597250451+0.191403426626637)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-0.372288446762251+${C53})
variable C35all equal 0.5*(-0.372288446762251+0.165044187212748)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(0.13904674919945+${C63})
variable C36all equal 0.5*(0.13904674919945+0.061240160675979)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-0.270047689928039+${C54})
variable C45all equal 0.5*(-0.270047689928039+-0.183407040289308)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(0.243106050815022+${C64})
variable C46all equal 0.5*(0.243106050815022+-0.467355139833135)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(-0.302935619197285+${C65})
variable C56all equal 0.5*(-0.302935619197285+0.0385992745877215)


print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 0.305660521510074 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 0.142734244537675 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 1.0916324180311 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 0.662189996333999 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 0.747802370908162 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = -0.0157830076567245 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 0.20510004097481 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 0.045674227681205 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = -0.428746553217369 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 0.0567135023219285 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = -0.0946342244135075 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = -0.448337242688565 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 0.0386609874954345 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -0.0296663984499345 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = 0.083523542100155 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 0.333700011938544 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = -0.103622129774751 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 0.100143454937715 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -0.226727365108674 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -0.112124544509056 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -0.132168172304782 GPa

print " "
 
print "Cij tensor matrix"
Cij tensor matrix
print " "
 
print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}"
0.305660521510074  0.662189996333999  0.747802370908162  0.0567135023219285  -0.0946342244135075  -0.448337242688565
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}"
0.662189996333999  0.142734244537675  -0.0157830076567245  0.0386609874954345  -0.0296663984499345  0.083523542100155
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}"
0.747802370908162  -0.0157830076567245  1.0916324180311  0.333700011938544  -0.103622129774751  0.100143454937715
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}"
0.0567135023219285  0.0386609874954345  0.333700011938544  0.20510004097481  -0.226727365108674  -0.112124544509056
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}"
-0.0946342244135075  -0.0296663984499345  -0.103622129774751  -0.226727365108674  0.045674227681205  -0.132168172304782
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}"
-0.448337242688565  0.083523542100155  0.100143454937715  -0.112124544509056  -0.132168172304782  -0.428746553217369

print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}" file Cij.dat screen no
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}" append Cij.dat screen no
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}" append Cij.dat screen no
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}" append Cij.dat screen no
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}" append Cij.dat screen no
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}" append Cij.dat screen no

write_restart restart2
System init for write_restart ...
Total wall time: 0:12:51
