LAMMPS (29 Sep 2021 - Update 2)
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
# Compute elastic constant tensor for a crystal at finite temperature
#
# WARNING: This script attempts to measure small differences in
# statistical averages generated by finite temperature MD simulations.
# This creates many more opportunities for errors to occur, compared
# to the zero temperature version provided in examples/ELASTIC.
# Hence, it is always a good idea to start with the zero temperature
# calculation, before attempting to use this script.
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, MD parameters, deformation parameters,
#		  and initial configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the MD sampling of stress components
#  is generating accurate statistical averages.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to
#  check for finite size effects.
#

# include init.mod

# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 2.0e-2

# real units, elastic constants in GPa
units		metal
atom_style atomic
variable cfac equal 1.0e-4
variable cunits string GPa

# Define MD parameters
variable nevery equal 10                  # sampling interval
variable nrepeat equal 10                 # number of samples
variable nfreq equal ${nevery}*${nrepeat} # length of one average
variable nfreq equal 10*${nrepeat} 
variable nfreq equal 10*10 
variable nthermo equal ${nfreq}           # interval for thermo output
variable nthermo equal 100           
variable nequil equal 10*${nthermo}       # length of equilibration run
variable nequil equal 10*100       
variable nrun equal 3*${nthermo}          # length of equilibrated run
variable nrun equal 3*100          
variable temp equal 300                   # temperature of initial sample
variable timestep equal 0.0001             # timestep
variable adiabatic equal 2                # adiabatic (1) or isothermal (2)
variable tdamp equal 0.007                 # time constant for thermostat
variable seed equal 123457                # seed for thermostat

# generate the box and atom positions using a diamond lattice
variable a equal 5.431

boundary	p p p
newton off


box tilt large
read_data tob9_ref_deepmd.data
Reading data file ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.9248620)
  1 by 1 by 1 MPI processor grid
  reading atoms ...
  62 atoms
  read_data CPU = 0.001 seconds

pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si
mass            1 40.079800
mass            4 28.08500
mass            3 15.9994
mass            2 1.00794


change_box all triclinic
Changing box ...
  triclinic box = (0.0000000 0.0000000 0.0000000) to (11.114968 7.4513556 9.3746986) with tilt (-0.17419075 -0.15353827 -1.9248620)

velocity	all create ${temp} 87287
velocity	all create 300 87287

thermo 100
min_style cg
minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化
WARNING: Using 'neigh_modify every 1 delay 0 check yes' setting during minimization (src/min.cpp:188)
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 4.207 | 4.207 | 4.207 Mbytes
Step Temp E_pair E_mol TotEng Press 
       0          300   -451.13785            0   -448.77239     23966.52 
      35          300   -456.46429            0   -454.09883    4090.8859 
Loop time of 14.9959 on 1 procs for 35 steps with 62 atoms

99.4% CPU use with 1 MPI tasks x 1 OpenMP threads

Minimization stats:
  Stopping criterion = energy tolerance
  Energy initial, next-to-last, final = 
     -451.137847900391  -456.464294433594  -456.464294433594
  Force two-norm initial, final = 21.279052 0.077047243
  Force max component initial, final = 7.1931992 0.023699572
  Final line search alpha, max atom move = 1.0000000 0.023699572
  Iterations, force evaluations = 35 70

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 14.995     | 14.995     | 14.995     |   0.0 |100.00
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00019622 | 0.00019622 | 0.00019622 |   0.0 |  0.00
Output  | 0          | 0          | 0          |   0.0 |  0.00
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0005288  |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0

thermo_style  custom step temp press etotal lx ly lz xy yz xz pxx pyy pzz

#timestep 0.0001

#fix 456 all nve
#fix 567 all langevin 300.0 300.0 0.1 12345

#run 5000

#unfix 456
#unfix 567
fix 123 all npt temp 300 300 0.1 iso 1.0 1.0 0.1
run 10000
Per MPI rank memory allocation (min/avg/max) = 3.097 | 3.097 | 3.097 Mbytes
Step Temp Press TotEng Lx Ly Lz Xy Yz Xz Pxx Pyy Pzz 
      35          300    4090.9243   -454.09883    11.114968    7.4513556    9.3746986  -0.17419075    -1.924862  -0.15353827    11579.752   -5333.6806    6026.7009 
     100    155.24268   -11930.799   -453.90606    11.199577    7.5080764    9.4460601  -0.17551672   -1.9395143  -0.15470703   -12515.596   -24829.724    1552.9239 
     200    167.58089   -25208.414   -453.37741    11.195156    7.5051129    9.4423318  -0.17544744   -1.9387487  -0.15464596   -21934.591    -33514.58   -20176.072 
     300    202.29721   -18028.846   -452.77079    11.184602    7.4980372    9.4334297  -0.17528203   -1.9369209  -0.15450017   -19252.533   -33361.843   -1472.1604 
     400    259.02562   -2183.7146     -452.102    11.167429    7.4865244    9.4189452   -0.1750129   -1.9339469  -0.15426294    9656.3037   -15180.958   -1026.4893 
     500    321.60278    6358.7666   -451.48602    11.140347     7.468369    9.3961035  -0.17458848   -1.9292569  -0.15388884    16996.617   -16072.121    18151.804 
     600    340.50337    10505.351   -451.14266    11.106242    7.4455058    9.3673388    -0.174054   -1.9233508  -0.15341773     21437.59   -2284.4861    12362.949 
     700    308.38508   -4955.2713   -451.27921    11.170479    7.4885696    9.4215183  -0.17506071   -1.9344752  -0.15430508    2112.9679   -21688.595    4709.8135 
     800      300.537   -3704.2403    -451.7254    11.159949    7.4815103    9.4126368  -0.17489568   -1.9326516  -0.15415962    22251.802   -29678.463   -3686.0596 
     900    295.41656   -9114.1554   -452.06005    11.183669    7.4974117    9.4326427  -0.17526741   -1.9367593  -0.15448728   -155.60983   -17379.768   -9807.0887 
    1000    260.68061   -19197.185   -452.00203    11.193691    7.5041303    9.4410956  -0.17542447   -1.9384949  -0.15462572   -13462.356   -31067.554   -13061.645 
    1100    329.64683   -8372.1481   -451.59362    11.199429    7.5079771    9.4459353   -0.1755144   -1.9394886  -0.15470498    11851.152    -24967.04   -12000.556 
    1200      300.322    -8067.852    -451.2646    11.169906    7.4881851    9.4210346  -0.17505172   -1.9343759  -0.15429716    9029.8064   -31513.528   -1719.8347 
    1300    317.50482    2840.3546   -451.29089    11.189433    7.5012759    9.4375044  -0.17535774   -1.9377576   -0.1545669    15446.318   -15974.542    9049.2879 
    1400    317.32545   -2555.1151   -451.68775    11.158657    7.4806438    9.4115467  -0.17487543   -1.9324278  -0.15414177    4171.6273    -16072.44     4235.467 
    1500    310.30842    14404.241   -451.80799    11.122796    7.4566032    9.3813008  -0.17431343   -1.9262176   -0.1536464    21659.672   -7939.1382     29492.19 
    1600      274.445    12388.536   -451.73618    11.142961    7.4701213    9.3983081  -0.17462944   -1.9297096  -0.15392495    19731.938   -6968.0645    24401.733 
    1700     294.6632    1283.4886   -451.50264    11.101004    7.4419942    9.3629209  -0.17397191   -1.9224437  -0.15334538    16301.303   -21345.098    8894.2606 
    1800     349.5532    5440.4783   -451.21803    11.104906    7.4446101    9.3662121  -0.17403306   -1.9231195  -0.15339928    18148.528   -9722.3259    7895.2325 
    1900    291.02778    617.15399   -451.15987    11.150892    7.4754388    9.4049982  -0.17475375   -1.9310832  -0.15403452    4239.2342   -7844.4635    5456.6912 
    2000    313.39299    10385.669   -451.63355    11.138503    7.4671327    9.3945481  -0.17455958   -1.9289376  -0.15386337    20483.779     -10617.6    21290.827 
    2100    299.81866    8819.1303   -452.02293    11.119747    7.4545593    9.3787293  -0.17426565   -1.9256895  -0.15360429    25765.454   -8039.2885    8731.2257 
    2200     254.2991    9823.9515   -452.00108    11.139708     7.467941     9.395565  -0.17457847   -1.9291464  -0.15388002    27884.713   -11779.986    13367.128 
    2300    340.73158   -4240.3938   -451.53249    11.149263    7.4743464    9.4036239  -0.17472821    -1.930801  -0.15401201   -1819.4584   -17572.197    6670.4736 
    2400    315.02313   -13140.643   -451.32568    11.204872    7.5116264    9.4505265  -0.17559971   -1.9404313  -0.15478018   -16825.986   -24972.114    2376.1715 
    2500    306.14613   -8298.0298   -451.40847    11.179093    7.4943438     9.428783  -0.17519569   -1.9359668  -0.15442406    2949.1835   -25157.032   -2686.2411 
    2600    281.10905   -1430.8138   -451.61171    11.147518    7.4731764    9.4021518  -0.17470086   -1.9304988   -0.1539879    5840.4854   -13077.615    2944.6877 
    2700    320.18424   -4113.2043   -451.70589    11.119893     7.454657    9.3788521  -0.17426793   -1.9257148   -0.1536063    4421.5616   -19734.165    2972.9907 
    2800     327.2016    522.05986   -451.82466    11.166116    7.4856442    9.4178378  -0.17499232   -1.9337195   -0.1542448    10458.745   -13313.447     4420.882 
    2900    308.92902   -3013.1525   -451.96266     11.18422    7.4977814    9.4331079  -0.17527605   -1.9368548   -0.1544949    5234.2763   -11139.582   -3134.1521 
    3000    275.53076   -287.07975   -452.10653     11.14777    7.4733456    9.4023647  -0.17470481   -1.9305425  -0.15399139    20646.899   -17963.176   -3544.9627 
    3100    258.65792    1353.8273   -451.85245     11.18102    7.4956358    9.4304085  -0.17522589   -1.9363006  -0.15445068    15034.569   -17380.794     6407.707 
    3200    358.85054      15220.3   -451.33357    11.089591    7.4343429    9.3532946  -0.17379305   -1.9204672  -0.15318772    37876.701   -4602.9275    12387.127 
    3300    288.58532     11514.41   -451.19598    11.122631    7.4564925    9.3811614  -0.17431084   -1.9261889  -0.15364412    26872.574   -15009.366    22680.022 
    3400    278.62978    12568.241   -451.54608    11.164046    7.4842565    9.4160919  -0.17495988    -1.933361  -0.15421621    22496.774   -1231.1058    16439.056 
    3500    231.87538    14423.721   -452.05063    11.137001    7.4661258    9.3932813  -0.17453604   -1.9286774  -0.15384262    42896.543   -5097.4683     5472.088 
    3600    235.82185    9632.4914   -452.00444    11.152761    7.4766912    9.4065739  -0.17478302   -1.9314067  -0.15406032    28461.818   -8327.2972    8762.9535 
    3700    278.24659    6688.3162   -451.70484    11.084271    7.4307762    9.3488073  -0.17370967   -1.9195458  -0.15311423    23114.061   -1440.9707   -1608.1417 
    3800    289.09528    7655.7911   -451.48474    11.112104    7.4494356    9.3722831  -0.17414587    -1.924366  -0.15349871    8015.3896    1441.2107    13510.773 
    3900    277.01378    -6971.032   -451.35066    11.160296    7.4817426    9.4129291  -0.17490111   -1.9327116  -0.15416441   -243.50445   -15323.563   -5346.0285 
    4000    327.88333   -10662.037   -451.04527    11.162921    7.4835028    9.4151437  -0.17494226   -1.9331663  -0.15420068    3151.3862    -26284.31   -8853.1859 
    4100    341.65423   -10451.008   -451.09953    11.171319    7.4891324    9.4222263  -0.17507386   -1.9346206  -0.15431668     210.0227   -23258.295   -8304.7531 
    4200    302.83974   -3072.3155   -451.71618    11.170395    7.4885134    9.4214476  -0.17505939   -1.9344607  -0.15430392    9054.3584   -18734.384    463.07934 
    4300    304.41816   -2113.4253   -451.91223    11.140024    7.4681526    9.3958312  -0.17458342    -1.929201  -0.15388438   -537.78225   -9454.0579    3651.5644 
    4400    317.05195    1945.2448   -451.81805    11.122066     7.456114    9.3806853  -0.17430199   -1.9260912  -0.15363632    2015.1285   -6252.4749    10073.081 
    4500     304.2346   -2137.4751   -451.30641    11.151026    7.4755283    9.4051108  -0.17475584   -1.9311063  -0.15403636    17037.327   -30347.942    6898.1894 
    4600    325.75258    11633.846   -450.97552    11.127583    7.4598127    9.3853387  -0.17438845   -1.9270466  -0.15371253    18318.309   -2777.2283    19360.458 
    4700    338.66953     14989.44   -451.16167    11.113291    7.4502312     9.373284  -0.17416447   -1.9245715   -0.1535151    18859.039    12313.107    13796.173 
    4800    302.42858    11984.876   -451.44394    11.117198    7.4528502    9.3765791  -0.17422569   -1.9252481  -0.15356907    15866.248     5595.623    14492.755 
    4900    278.11665    9730.6426   -451.75463    11.159863    7.4814526    9.4125642  -0.17489433   -1.9326367  -0.15415843    21388.143   -8005.4443    15809.229 
    5000    271.05213   -696.38749   -451.86599    11.187218    7.4997909     9.435636  -0.17532303   -1.9373739   -0.1545363     19425.07   -20695.389   -818.84276 
    5100    295.89054   -8675.8891   -451.60743    11.219034      7.52112    9.4624706  -0.17582164   -1.9428837   -0.1549758    2601.6064   -23085.126   -5544.1478 
    5200      310.312   -4579.6707   -450.99253    11.154917    7.4781366    9.4083923  -0.17481681   -1.9317801  -0.15409011    1873.3812   -12214.258   -3398.1358 
    5300     369.8307    2700.8851   -451.05152     11.09731    7.4395178    9.3598052  -0.17391402    -1.921804  -0.15329435    8459.7208    -8679.718    8322.6524 
    5400     323.6216     4352.182   -451.52852     11.13439    7.4643759    9.3910797  -0.17449513   -1.9282254  -0.15380656    3995.9516   -3964.8808    13025.475 
    5500    284.06063    5754.8653   -451.73889    11.140409    7.4684109    9.3961562  -0.17458945   -1.9292677   -0.1538897    22487.064   -12052.955    6830.4863 
    5600    272.60368    3379.2689   -451.75821    11.134842    7.4646788    9.3914608  -0.17450221   -1.9283037   -0.1538128    15064.236   -10404.389    5477.9596 
    5700    306.89972   -1802.4252   -451.59976    11.127813    7.4599667    9.3855325  -0.17439206   -1.9270864  -0.15371571      11455.4   -13762.664   -3100.0118 
    5800    349.65646   -9384.5497   -451.13949    11.212989    7.5170674     9.457372   -0.1757269   -1.9418369  -0.15489229    5966.8233   -22233.267   -11887.205 
    5900    344.04707   -5853.2232   -450.90335    11.204721    7.5115247    9.4503986  -0.17559733   -1.9404051  -0.15477808    16511.006   -34303.137    232.46165 
    6000     300.9768    2738.6176   -451.48194    11.151387    7.4757703    9.4054153   -0.1747615   -1.9311689  -0.15404135    11513.123   -14220.107    10922.837 
    6100     285.6321    13217.587   -451.77154    11.120812    7.4552735    9.3796278  -0.17428234    -1.925874    -0.153619    22300.559    8554.7226    8797.4784 
    6200    335.79918    4818.9983   -451.74756    11.133196    7.4635752    9.3900723  -0.17447641   -1.9280186  -0.15379006    26798.489   -14357.511    2016.0162 
    6300    276.91857   -9702.2054   -451.64078    11.192411    7.5032722    9.4400159  -0.17540441   -1.9382732  -0.15460804    4310.8157   -26046.112   -7371.3193 
    6400    360.48948   -13227.761    -451.2087     11.21137    7.5159826    9.4560071  -0.17570154   -1.9415566  -0.15486994   -1311.6574   -28538.016   -9833.6101 
    6500    312.05864   -6920.7116   -450.95779    11.172527     7.489942     9.423245  -0.17509279   -1.9348297  -0.15433336   -2553.6199   -15990.134   -2218.3808 
    6600    287.36514   -15979.512   -451.50376    11.208523    7.5140738    9.4536056  -0.17565692   -1.9410636  -0.15483061   -11987.995   -32328.213   -3622.3284 
    6700    274.80192   -14532.308     -451.909    11.178253    7.4937812    9.4280751  -0.17518254   -1.9358215  -0.15441247       -20065    -23217.89   -314.03508 
    6800    326.69433   -4525.8835   -451.81844     11.14371    7.4706236    9.3989402  -0.17464118   -1.9298394   -0.1539353   -1890.2158   -13739.447    2052.0119 
    6900    313.62245    6979.3923   -451.62298    11.167746    7.4867375    9.4192133  -0.17501788   -1.9340019  -0.15426733    25028.475   -10846.815    6756.5166 
    7000    379.08825   -1154.4606   -451.20265    11.174795    7.4914628    9.4251582  -0.17512834   -1.9352226   -0.1543647    17180.076   -20478.487    -164.9713 
    7100    354.09619    3970.2096   -450.83568    11.133636    7.4638706     9.390444  -0.17448332   -1.9280949  -0.15379615    19405.939   -20855.877    13360.567 
    7200    342.66412    2190.1484   -451.16496    11.139992    7.4681316    9.3958048  -0.17458293   -1.9291956  -0.15388395    16869.371   -13429.365    3130.4389 
    7300    299.18623   -10529.492   -451.78817    11.158551    7.4805729    9.4114575  -0.17487377   -1.9324095  -0.15414031   -479.66448    -21022.56   -10086.253 
    7400    259.84713   -17194.665   -451.79132    11.201778    7.5095521    9.4479169  -0.17555122   -1.9398955  -0.15473744   -8650.1157   -30593.484   -12340.395 
    7500    297.19941   -12769.049   -451.56183    11.197789     7.506878    9.4445524   -0.1754887   -1.9392047  -0.15468233    7608.5226   -24759.571   -21156.099 
    7600    293.23951   -1510.9797   -451.18467    11.157736    7.4800267    9.4107703    -0.174861   -1.9322684  -0.15412905    7289.5658   -13467.882     1645.377 
    7700    396.60434    5277.6515   -450.77514    11.135859    7.4653607    9.3923188  -0.17451815   -1.9284798  -0.15382685    10917.485    105.02843    4810.4412 
    7800    326.28596   -600.23065   -451.20905     11.13579    7.4653141    9.3922601  -0.17451706   -1.9284678  -0.15382589    3758.2358   -12519.517    6960.5894 
    7900    276.98666   -1133.1285   -451.77257    11.183111     7.497038    9.4321725  -0.17525867   -1.9366628  -0.15447958     9583.414   -26723.047    13740.247 
    8000    261.87779   -4394.8306   -451.89115    11.216403    7.5193567    9.4602521  -0.17578042   -1.9424282  -0.15493946    20711.962   -23684.193   -10212.261 
    8100    327.79413   -9069.8175   -451.63246    11.168412    7.4871837    9.4197747  -0.17502831   -1.9341172  -0.15427653    1527.6266   -29573.401    836.32155 
    8200    330.16349   -1887.5075   -451.19092    11.145219    7.4716353    9.4002129  -0.17466483   -1.9301007  -0.15395614    2349.7318   -12423.882    4411.6277 
    8300    287.75467    7568.5855    -450.9976    11.121854     7.455972    9.3805066  -0.17429867   -1.9260545   -0.1536334    14881.275     5899.181    1925.3008 
    8400    297.72499    9260.9202   -451.72224    11.127306    7.4596267    9.3851047  -0.17438411   -1.9269986   -0.1537087     19419.04    -7994.587    16358.307 
    8500    283.89332    6197.0956   -452.03369    11.160824    7.4820965    9.4133743  -0.17490938   -1.9328031   -0.1541717    27121.022   -7307.8086   -1221.9263 
    8600    257.79442    10691.845   -451.92283    11.157472    7.4798494    9.4105472  -0.17485685   -1.9322226   -0.1541254     25336.22   -10618.637    17357.952 
    8700    288.53428    8605.3608     -451.457    11.100026    7.4413385     9.362096  -0.17395658   -1.9222743  -0.15333187    11913.519    -7058.431    20960.994 
    8800     318.5992    1341.9708    -451.1597    11.159881    7.4814649    9.4125798  -0.17489462   -1.9326399  -0.15415869    19358.237   -19018.551    3686.2256 
    8900    315.26601   -3123.0219   -451.33418    11.238542    7.5341981    9.4789245  -0.17612737   -1.9462621  -0.15524528   -1949.6033   -24856.333    17436.871 
    9000    355.36669    7101.0152   -451.55784    11.142875    7.4700641    9.3982362   -0.1746281   -1.9296948  -0.15392377    21174.035   -6404.4864    6533.4968 
    9100    274.21194    2050.4458    -451.6364    11.115956    7.4520179    9.3755319  -0.17420623    -1.925033  -0.15355192    7176.9586   -5449.3811    4423.7599 
    9200    265.06795   -8914.9349   -451.72891    11.171343    7.4891486    9.4222467  -0.17507424   -1.9346248  -0.15431701    -8101.488   -23152.747    4509.4302 
    9300    299.24796   -10046.745   -451.78271    11.205541    7.5120744    9.4510902  -0.17561018   -1.9405471  -0.15478941   -4693.3938   -13259.567   -12187.273 
    9400    278.35675   -3500.4962    -452.0595     11.21269    7.5168672    9.4571201  -0.17572222   -1.9417852  -0.15488817    18687.459   -23245.878   -5943.0695 
    9500    284.67808    5865.0398   -452.04576    11.149024    7.4741859    9.4034219  -0.17472446   -1.9307596   -0.1540087    24027.833    -9227.129    2794.4151 
    9600    334.55429    6462.3157   -451.55468    11.126975    7.4594044    9.3848251  -0.17437891   -1.9269412  -0.15370412    21132.211   -1031.0086   -714.25534 
    9700    345.73468   -4893.9103   -451.24155    11.118564    7.4537664    9.3777317  -0.17424711   -1.9254847  -0.15358795    9260.5922    -20533.65   -3408.6731 
    9800    301.08192   -22624.453   -451.33194    11.213028    7.5170936     9.457405  -0.17572751   -1.9418437  -0.15489283   -20226.662   -21937.577    -25709.12 
    9900    291.22492   -6693.7755   -451.73623    11.204715    7.5115207    9.4503935  -0.17559723    -1.940404    -0.154778    888.76203   -19177.852   -1792.2361 
   10000    275.14727    8025.9536   -451.96218     11.11599    7.4520404    9.3755602  -0.17420676   -1.9250389  -0.15355238    24806.368   -14005.443    13276.935 
   10035    273.76354   -2965.6846   -451.97492    11.145459    7.4717965    9.4004157   -0.1746686   -1.9301423  -0.15395947    7272.3205   -22825.037    6655.6627 
Loop time of 2614.46 on 1 procs for 10000 steps with 62 atoms

Performance: 0.330 ns/day, 72.624 hours/ns, 3.825 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2614.1     | 2614.1     | 2614.1     |   0.0 | 99.99
Neigh   | 0.042684   | 0.042684   | 0.042684   |   0.0 |  0.00
Comm    | 0.049829   | 0.049829   | 0.049829   |   0.0 |  0.00
Output  | 0.007041   | 0.007041   | 0.007041   |   0.0 |  0.00
Modify  | 0.18095    | 0.18095    | 0.18095    |   0.0 |  0.01
Other   |            | 0.03684    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        727.000 ave         727 max         727 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4390.00 ave        4390 max        4390 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4390
Ave neighs/atom = 70.806452
Neighbor list builds = 103
Dangerous builds = 0

unfix 123

# Compute initial state

variable thermostat equal 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"


run ${nequil}
run 1000
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    273.76354   -454.13351   -2965.5648            0            0            0            0            0            0 
     100    273.91266   -454.13474   -6794.9011    11661.539    -24999.34    4241.4147    5579.6106   -918.18544   -5872.0456 
     200    268.06228   -454.08856   -11975.627     3999.439    -22665.29   -8914.3042    7050.5557    -7077.619   -3470.8381 
     300     275.2396   -454.14502    646.86517    3709.1296   -16049.981   -2883.5015    8076.2009   -8592.7514   -3617.8906 
     400    296.60655   -454.31363    7758.8255    21011.194   -15890.095    16635.562    11960.967     664.8747   -8240.7681 
     500    264.41741   -454.05984   -2159.6367    15442.522   -16343.565    12627.625    10603.501    1357.7249   -4607.8433 
     600    278.22354   -454.16873    -7977.227    4591.9039   -14794.534   -8120.7595    1703.9258   -10005.129    2087.1837 
     700    247.47962    -453.9263    2291.2194    17294.397   -17806.421   -7207.1202    8352.4785   -6242.1083   -684.94704 
     800    278.73187    -454.1727    5448.6617    21853.432   -19005.647    14300.947    15823.113    1424.0427     -6405.57 
     900    249.65628   -453.94342    4285.4061    15342.051   -15516.968    17800.348    8309.1616   -1602.7153   -2115.2389 
    1000    274.72633   -454.14114    3610.2153    20132.316    -13179.62    6613.9407    3476.3848   -2440.0896    2252.4598 
Loop time of 445.265 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1236.847 hours/ns, 2.246 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 445.24     | 445.24     | 445.24     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0061617  | 0.0061617  | 0.0061617  |   0.0 |  0.00
Output  | 0.00094795 | 0.00094795 | 0.00094795 |   0.0 |  0.00
Modify  | 0.0081167  | 0.0081167  | 0.0081167  |   0.0 |  0.00
Other   |            | 0.007089   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4324.00 ave        4324 max        4324 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4324
Ave neighs/atom = 69.741935
Neighbor list builds = 0
Dangerous builds = 0

if "${adiabatic} == 1" then "variable thermostat equal 0" else "variable thermostat equal 1"
variable thermostat equal 1

print ${thermostat}
print 1
1

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 3.082 | 3.082 | 3.082 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    274.72633   -454.14114    3610.1868            0            0            0            0            0            0 
     100    303.86547   -454.02396    9973.1162    28508.919   -14037.175    11755.778    13815.485    725.04418    211.85366 
     200    289.98721    -454.2197    9770.3328    27677.026    -11199.98    16912.116    8839.6219   -1298.9342    704.14506 
     300    302.88291   -454.25226     5665.085    16592.763   -12002.925    16387.775    9334.9707   -547.32467   -705.41816 
Loop time of 139.705 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1293.565 hours/ns, 2.147 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 139.7      | 139.7      | 139.7      |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017152  | 0.0017152  | 0.0017152  |   0.0 |  0.00
Output  | 0.00038147 | 0.00038147 | 0.00038147 |   0.0 |  0.00
Modify  | 0.0051453  | 0.0051453  | 0.0051453  |   0.0 |  0.00
Other   |            | 0.002075   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4326.00 ave        4326 max        4326 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4326
Ave neighs/atom = 69.774194
Neighbor list builds = 0
Dangerous builds = 0

variable pxx0 equal f_avp[1]
variable pyy0 equal f_avp[2]
variable pzz0 equal f_avp[3]
variable pxy0 equal f_avp[4]
variable pxz0 equal f_avp[5]
variable pyz0 equal f_avp[6]

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 11.1454593341562
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 7.47179647029971
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 9.4004157087544

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-16592.7630644179)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-16592.7630644179)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--12002.9251781502)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--12002.9251781502)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-16387.774554072)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-16387.774554072)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--705.418160540458)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1--705.418160540458)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--547.324670051207)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1--547.324670051207)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-9334.97072123157)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1-9334.97072123157)/(v_delta/v_len0)*0.0001

# Write restart
write_restart restart.equil
System init for write_restart ...

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 11.1454593341562
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*11.1454593341562
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.222909186683124 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.222909186683124 xy delta 0.00349337200423057 xz delta ${deltaxz} remap units box
change_box all x delta 0 -0.222909186683124 xy delta 0.00349337200423057 xz delta 0.00307918930486666 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (10.907305 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (10.907305 7.4615760 9.3875572) with tilt (-0.17117523 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (10.907305 7.4615760 9.3875572) with tilt (-0.17117523 -0.15088028 -1.9301423)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -453.75873    41894.806            0            0            0            0            0            0 
     100    262.73007   -453.75919    31935.838    78663.516   -437.48331    29006.272    15407.785    3105.3808    1399.3624 
     200    259.69505   -453.43097    25714.457    58741.788     3078.505    19597.361    8209.5825   -3447.2499    4469.4193 
     300    271.65773   -453.20273    23989.943    52306.553   -62.205854    18719.289    9777.9609   -3538.4514    993.31557 
     400    304.89924   -453.34814    22894.823    49943.077   -1846.5605    20102.166    15150.784   -2590.4547    959.47681 
     500    301.73068    -453.4028    33393.534    51661.649    7650.6917    24975.393    18369.598   -9054.0125   -2873.2042 
     600    291.47305   -453.51422    32062.658    59498.317    9896.8852    31281.306    17482.616   -11258.863   -5102.9902 
     700    285.26763   -453.67474     26973.11    62057.079    4572.5694    25912.738    14187.819   -4165.3704   -4408.9399 
     800    321.27786   -453.69513    22626.183    53136.158    -1623.791    25386.323    13009.885   -3580.9691   -1485.5299 
     900    270.61342   -453.56686    14655.451    41910.127   -7062.8424    15138.637    11863.546   -110.20204   -998.66586 
    1000    274.23733   -453.36609    14240.626     38399.33   -6069.7298      7285.38     15076.12    2830.8611    2407.0866 
Loop time of 451.51 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1254.194 hours/ns, 2.215 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 451.48     | 451.48     | 451.48     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0072105  | 0.0072105  | 0.0072105  |   0.0 |  0.00
Output  | 0.0011065  | 0.0011065  | 0.0011065  |   0.0 |  0.00
Modify  | 0.017879   | 0.017879   | 0.017879   |   0.0 |  0.00
Other   |            | 0.007295   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4416.00 ave        4416 max        4416 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4416
Ave neighs/atom = 71.225806
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    274.23733     -453.366    14241.622            0            0            0            0            0            0 
     100    278.67615    -453.7663    22397.033    44888.355   -1424.5359    7248.0492    16243.977    1972.3613    2420.2882 
     200    278.30579   -453.51361    26039.701    63227.168   -1697.1828    15669.015     10104.82   -2888.1757   -460.91383 
     300     300.2607   -453.46902    19731.234    53640.225   -5258.7997    16434.883    10469.237   -2705.7895   -4017.1752 
Loop time of 136.119 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1260.357 hours/ns, 2.204 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 136.11     | 136.11     | 136.11     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0026097  | 0.0026097  | 0.0026097  |   0.0 |  0.00
Output  | 0.00037479 | 0.00037479 | 0.00037479 |   0.0 |  0.00
Modify  | 0.0061588  | 0.0061588  | 0.0061588  |   0.0 |  0.00
Other   |            | 0.002517   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4472.00 ave        4472 max        4472 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4472
Ave neighs/atom = 72.129032
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 185.237308758518
variable C2neg equal ${d2}
variable C2neg equal 33.7206274241414
variable C3neg equal ${d3}
variable C3neg equal 0.235542258691512
variable C4neg equal ${d4}
variable C4neg equal -16.5587850204896
variable C5neg equal ${d5}
variable C5neg equal -10.7923242482301
variable C6neg equal ${d6}
variable C6neg equal 5.67132910015815

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*11.1454593341562
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.222909186683124 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 0.222909186683124 xy delta -0.00349337200423057 xz delta ${deltaxz} remap units box
change_box all x delta 0 0.222909186683124 xy delta -0.00349337200423057 xz delta -0.00307918930486666 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.353123 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.353123 7.4615760 9.3875572) with tilt (-0.17816197 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.353123 7.4615760 9.3875572) with tilt (-0.17816197 -0.15703865 -1.9301423)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.04156   -26141.115            0            0            0            0            0            0 
     100    278.74537   -453.99799   -15939.241   -35626.587   -25334.249   -1193.0099    14354.201   -870.32836    223.91918 
     200    258.15475   -453.69708   -10479.065   -8977.4896   -24123.375   -1757.2965    7069.0867   -2074.3495    3246.7384 
     300    266.73575   -453.46082   -13472.968   -14571.127   -23972.677    865.60317    8232.6062    -2836.627    124.92161 
     400    302.04325   -453.55276   -14195.367   -22743.804   -23363.872    2043.4516    13784.467   -2076.1529    456.99361 
     500    296.09934   -453.56696   -3058.2388   -18155.936   -14569.101    6957.4948    16658.725   -7345.5766   -2834.2085 
     600      290.814   -453.68338   -4079.3867   -8876.0892   -11921.106     12538.78    15776.753   -8677.9446   -5200.1488 
     700    285.77257   -453.83658   -9102.9322   -7761.2302   -16332.032    7766.5316     12564.61   -2238.3675   -4743.7207 
     800    321.45262   -453.86511   -13158.873   -16787.555   -22711.622     7731.429    11009.035   -1293.7231   -2061.4207 
     900    273.21896   -453.70728   -20873.243   -27357.201    -28680.24    -569.6749    9894.9967    2300.8329   -1736.5165 
    1000    273.93948    -453.4823   -21509.182   -31521.196   -28452.552   -7642.2424    12659.857     4205.921    1483.7377 
Loop time of 435.293 on 1 procs for 1000 steps with 62 atoms

Performance: 0.020 ns/day, 1209.148 hours/ns, 2.297 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 435.26     | 435.26     | 435.26     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0079269  | 0.0079269  | 0.0079269  |   0.0 |  0.00
Output  | 0.001056   | 0.001056   | 0.001056   |   0.0 |  0.00
Modify  | 0.019461   | 0.019461   | 0.019461   |   0.0 |  0.00
Other   |            | 0.007314   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4264.00 ave        4264 max        4264 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4264
Ave neighs/atom = 68.774194
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    273.93948   -453.48236   -21509.341            0            0            0            0            0            0 
     100     281.6695   -453.89032   -13891.977   -25158.774     -23514.2   -8281.6644    14108.417    4310.4431    1513.4084 
     200     273.8403   -453.66006   -9318.0147   -6842.1417   -22895.091   -711.88767    8899.7922    -471.9748   -1335.0026 
     300    299.26579   -453.63159   -14678.604   -14198.534   -26329.846    980.93669    8738.0746   -1483.2671   -4272.0497 
Loop time of 137.596 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1274.035 hours/ns, 2.180 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 137.58     | 137.58     | 137.58     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0026951  | 0.0026951  | 0.0026951  |   0.0 |  0.00
Output  | 0.00030541 | 0.00030541 | 0.00030541 |   0.0 |  0.00
Modify  | 0.0064311  | 0.0064311  | 0.0064311  |   0.0 |  0.00
Other   |            | 0.002424   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4290.00 ave        4290 max        4290 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4290
Ave neighs/atom = 69.193548
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 153.956483835734
variable C2pos equal ${d2}
variable C2pos equal 71.6346043945365
variable C3pos equal ${d3}
variable C3pos equal 77.0341893132347
variable C4pos equal ${d4}
variable C4pos equal 17.8331576967253
variable C5pos equal ${d5}
variable C5pos equal 4.67971206888276
variable C6pos equal ${d6}
variable C6pos equal 2.98448080214185

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(185.237308758518+${C1pos})
variable C11 equal 0.5*(185.237308758518+153.956483835734)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(33.7206274241414+${C2pos})
variable C21 equal 0.5*(33.7206274241414+71.6346043945365)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(0.235542258691512+${C3pos})
variable C31 equal 0.5*(0.235542258691512+77.0341893132347)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(-16.5587850204896+${C4pos})
variable C41 equal 0.5*(-16.5587850204896+17.8331576967253)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(-10.7923242482301+${C5pos})
variable C51 equal 0.5*(-10.7923242482301+4.67971206888276)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(5.67132910015815+${C6pos})
variable C61 equal 0.5*(5.67132910015815+2.98448080214185)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.47179647029971
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.47179647029971
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -0.149435929405994 yz delta ${deltayz} remap units box
change_box all y delta 0 -0.149435929405994 yz delta 0.0386028464388057 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.3121401 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.3121401 9.3875572) with tilt (-0.17466860 -0.15395947 -1.8915395)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291    -454.1651    33467.955            0            0            0            0            0            0 
     100    268.66284   -454.04462     33552.79    33145.286    36475.325    29068.176    15503.147   -1126.5469    1190.1625 
     200    260.58776   -453.71475    30729.295    39338.632    31903.679    24554.535     7481.361   -4165.9136     4630.234 
     300    269.80987   -453.49207    25735.986    29868.784    27359.721    23548.525    8843.5307   -4995.2099    901.53385 
     400    302.08133   -453.61798    24518.932    23188.659     26275.29    22855.592    14350.964   -4237.0786    1257.4557 
     500    299.95586   -453.65097    35699.888    27224.251     35610.01    27580.157    17522.004   -10206.436   -2504.0457 
     600    292.08549   -453.77161    34005.688    36088.544    36984.429    33961.297    16648.261   -12089.677   -4840.6936 
     700    286.19688   -453.95004    27982.063     37087.52    31563.911    27927.085    13273.385   -5167.8296   -3894.4258 
     800    321.45525   -453.97897    23493.215     27381.14    24687.099    27043.337    11836.977   -4162.8215   -1130.5491 
     900    272.66506   -453.84799    15346.196    16686.136    18653.499    16831.552    10933.316    -409.7313   -905.06911 
    1000    275.39158   -453.64737    15154.996    13366.547    19382.904    8836.1702    14008.086    1942.4084    2762.3979 
Loop time of 454.498 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1262.494 hours/ns, 2.200 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 454.47     | 454.47     | 454.47     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0061502  | 0.0061502  | 0.0061502  |   0.0 |  0.00
Output  | 0.0010066  | 0.0010066  | 0.0010066  |   0.0 |  0.00
Modify  | 0.015906   | 0.015906   | 0.015906   |   0.0 |  0.00
Other   |            | 0.006205   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        739.000 ave         739 max         739 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4434.00 ave        4434 max        4434 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4434
Ave neighs/atom = 71.516129
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    275.39158   -453.64737    15155.179            0            0            0            0            0            0 
     100    281.40544   -454.04471    23127.412     19924.53     24273.74    9346.9935    15358.703    1511.7653      2553.16 
     200    275.45784   -453.80798    26939.255    38887.786    23185.298    17490.585    9608.1798   -3831.9489   -373.92169 
     300    302.00733   -453.77948    20528.967    29610.882    18664.452    18803.605    9528.4526   -4369.8392   -3299.6163 
Loop time of 137.377 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1272.008 hours/ns, 2.184 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 137.36     | 137.36     | 137.36     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0031431  | 0.0031431  | 0.0031431  |   0.0 |  0.00
Output  | 0.00035787 | 0.00035787 | 0.00035787 |   0.0 |  0.00
Modify  | 0.0066288  | 0.0066288  | 0.0066288  |   0.0 |  0.00
Other   |            | 0.002595   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        747.000 ave         747 max         747 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4456.00 ave        4456 max        4456 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4456
Ave neighs/atom = 71.870968
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 65.0905949163621
variable C2neg equal ${d2}
variable C2neg equal 153.336884534673
variable C3neg equal ${d3}
variable C3neg equal 12.079153187618
variable C4neg equal ${d4}
variable C4neg equal -12.9709905034873
variable C5neg equal ${d5}
variable C5neg equal -19.1125725201116
variable C6neg equal ${d6}
variable C6neg equal 0.967409342395405

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.47179647029971
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 0.149435929405994 yz delta ${deltayz} remap units box
change_box all y delta 0 0.149435929405994 yz delta -0.0386028464388057 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.6110119 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.6110119 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9687452)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -453.84772   -18779.469            0            0            0            0            0            0 
     100    265.81795   -453.68307   -16602.608     7084.122   -58750.349   -1400.5131    14434.551     3325.254    422.70998 
     200    258.27754   -453.39023   -15531.355    10505.883   -51920.419   -5993.5583    7836.9789   -634.57125    3096.8995 
     300    268.28766   -453.13895   -16005.683    4926.7625   -50133.025    -3954.547    9201.9862   -1030.0582    180.77479 
     400    305.05579   -453.25827   -16212.936    1069.0918    -50058.17   -1018.9071    14657.381   -103.84379    225.38298 
     500    298.39917    -453.2999   -5753.4741    4181.4738    -41343.93     4263.625    17531.512   -5716.2675     -3127.08 
     600    290.38111   -453.41367   -6426.8746    12163.067   -37891.561    9845.4935    16660.679   -7359.7159    -5464.271 
     700    285.41629   -453.55692   -10575.052    14450.375   -42014.683    5810.9561    13457.687    -827.2302   -5220.3036 
     800    320.67147   -453.57581   -14401.996     6304.066   -47726.586    6153.3292    12099.486   -252.24895   -2430.4851 
     900    271.17306   -453.42377   -21945.889   -4818.1359   -53234.593   -2097.5396     10756.57    2984.7296   -1819.5926 
    1000    273.26759   -453.20309   -22776.795   -9062.9657   -52763.664   -8966.9794    13625.963    5429.7772    1141.8295 
Loop time of 438.42 on 1 procs for 1000 steps with 62 atoms

Performance: 0.020 ns/day, 1217.832 hours/ns, 2.281 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 438.38     | 438.38     | 438.38     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0083115  | 0.0083115  | 0.0083115  |   0.0 |  0.00
Output  | 0.0012453  | 0.0012453  | 0.0012453  |   0.0 |  0.00
Modify  | 0.020636   | 0.020636   | 0.020636   |   0.0 |  0.00
Other   |            | 0.008262   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        721.000 ave         721 max         721 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4256.00 ave        4256 max        4256 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4256
Ave neighs/atom = 68.645161
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.956 | 2.956 | 2.956 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    273.26759   -453.20309   -22777.234            0            0            0            0            0            0 
     100    279.10221   -453.61557   -15109.651   -2869.0586   -48103.126   -10115.958    14958.513    5134.0263    1373.1161 
     200    276.64785   -453.36694   -10565.163    14790.299   -46611.512   -2344.1836    9474.7299    693.13387   -1410.1231 
     300    297.79761   -453.32492   -15771.661    7216.2791   -48978.007    -1109.103      9706.77    383.60129   -4848.2976 
Loop time of 137.564 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1273.741 hours/ns, 2.181 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 137.55     | 137.55     | 137.55     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027847  | 0.0027847  | 0.0027847  |   0.0 |  0.00
Output  | 0.00030851 | 0.00030851 | 0.00030851 |   0.0 |  0.00
Modify  | 0.006392   | 0.006392   | 0.006392   |   0.0 |  0.00
Other   |            | 0.00264    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        717.000 ave         717 max         717 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4278.00 ave        4278 max        4278 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4278
Ave neighs/atom = 69.000000
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 46.8824198381803
variable C2pos equal ${d2}
variable C2pos equal 184.87540960765
variable C3pos equal ${d3}
variable C3pos equal 87.484388016147
variable C4pos equal ${d4}
variable C4pos equal 20.7143970095633
variable C5pos equal ${d5}
variable C5pos equal -4.65462978648705
variable C6pos equal ${d6}
variable C6pos equal -1.85899640264181

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(65.0905949163621+${C1pos})
variable C12 equal 0.5*(65.0905949163621+46.8824198381803)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(153.336884534673+${C2pos})
variable C22 equal 0.5*(153.336884534673+184.87540960765)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(12.079153187618+${C3pos})
variable C32 equal 0.5*(12.079153187618+87.484388016147)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-12.9709905034873+${C4pos})
variable C42 equal 0.5*(-12.9709905034873+20.7143970095633)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(-19.1125725201116+${C5pos})
variable C52 equal 0.5*(-19.1125725201116+-4.65462978648705)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(0.967409342395405+${C6pos})
variable C62 equal 0.5*(0.967409342395405+-1.85899640264181)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.4004157087544
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.4004157087544
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.1995488) with tilt (-0.17466860 -0.15395947 -1.9301423)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.958 | 2.958 | 2.958 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -453.84888    37042.748            0            0            0            0            0            0 
     100    271.47656    -453.8335    32063.982    35302.845    1746.9252    66179.668    15101.653    3537.1276    1205.3817 
     200    259.95776   -453.48895    26268.841    35585.831     4428.192    45416.591    7790.5922    -2037.801    4673.1651 
     300    272.51559   -453.28485    22371.379    26179.512    606.96122    42409.588    9792.3745   -2510.1054    1272.6959 
     400    305.33789   -453.42975    20883.096    20842.033   -1485.7997    42913.436    15379.528   -1219.6195     1013.475 
     500    300.04288   -453.47867    31282.399    24152.604    7601.4323    46117.833     18354.57   -7276.9258   -2796.1756 
     600    290.99384   -453.60419    29593.188    33017.804    9798.3158    51023.094    17274.495   -9028.1038   -5129.6777 
     700    286.95013   -453.79544    23541.369    34846.861     4281.884    44411.689    13842.896   -2243.7491   -4447.1425 
     800    320.67669   -453.79132    18779.292    25177.855   -2522.1399    43348.829    12347.636    -1427.456    -1427.577 
     900    271.05892   -453.65475    10672.509     12887.45   -8596.0965    33739.624      11479.7    2325.7668   -1222.4965 
    1000    276.83255   -453.47708    9928.4036    9468.3466   -8359.0284    25798.498    14546.053    4725.5235    2263.5442 
Loop time of 450.168 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1250.467 hours/ns, 2.221 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 450.13     | 450.13     | 450.13     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0084503  | 0.0084503  | 0.0084503  |   0.0 |  0.00
Output  | 0.0010085  | 0.0010085  | 0.0010085  |   0.0 |  0.00
Modify  | 0.020046   | 0.020046   | 0.020046   |   0.0 |  0.00
Other   |            | 0.008054   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        747.000 ave         747 max         747 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4412.00 ave        4412 max        4412 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4412
Ave neighs/atom = 71.161290
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.958 | 2.958 | 2.958 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    276.83255   -453.47705    9928.4452            0            0            0            0            0            0 
     100    279.23431   -453.88715    17861.262    16142.766   -3309.3625    24831.825    15717.566    4144.3096    2297.7409 
     200    276.05282   -453.65479    21480.088    34794.596   -3356.1686    31975.667    9855.8682   -1378.0544   -691.04274 
     300    301.17016   -453.60803    15779.212    26106.837   -7144.9171    33338.338    10369.657   -1518.8308   -3870.3503 
Loop time of 141.872 on 1 procs for 300 steps with 62 atoms

Performance: 0.018 ns/day, 1313.633 hours/ns, 2.115 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 141.86     | 141.86     | 141.86     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0027325  | 0.0027325  | 0.0027325  |   0.0 |  0.00
Output  | 0.00030279 | 0.00030279 | 0.00030279 |   0.0 |  0.00
Modify  | 0.0063913  | 0.0063913  | 0.0063913  |   0.0 |  0.00
Other   |            | 0.0025     |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        731.000 ave         731 max         731 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4446.00 ave        4446 max        4446 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4446
Ave neighs/atom = 71.709677
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 47.570370160387
variable C2neg equal ${d2}
variable C2neg equal 24.2900405710626
variable C3neg equal ${d3}
variable C3neg equal 84.7528171148755
variable C4neg equal ${d4}
variable C4neg equal -15.8246609088161
variable C5neg equal ${d5}
variable C5neg equal -4.85753054752306
variable C6neg equal ${d6}
variable C6neg equal 5.17342916025765

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.4004157087544
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.5755655) with tilt (-0.17466860 -0.15395947 -1.9301423)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.954 | 2.954 | 2.954 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.10092   -21725.584            0            0            0            0            0            0 
     100     267.6988   -453.94009   -15556.446    4698.7276   -27707.448   -34432.617    14732.831   -699.16793     418.7206 
     200    259.90057    -453.6951    -11577.27    13320.872   -26355.928   -25732.992    7576.3729   -2492.0957    3104.9553 
     300    266.08125   -453.44449   -12672.606    7827.2064   -25698.344    -20434.42     8420.958   -3017.6868   -98.756012 
     400    302.53111   -453.55478   -12564.291    2645.8157   -24677.204   -17952.173    13780.246   -2599.3525    337.51164 
     500    298.24963   -453.58591   -1248.2721    6226.6849   -15400.805   -11258.792    16875.818   -8151.6114   -3024.1764 
     600    291.54597    -453.7001   -2051.0851    14199.968   -12589.519   -4130.9595    16119.387   -9998.3441   -5291.2012 
     700    284.51455   -453.82779   -6201.7867    15633.313   -16767.401   -7775.3036     13023.52   -3331.8494   -4802.1273 
     800    321.88944   -453.88428   -9590.8087    7381.7359   -22463.082   -6861.6172    11739.251   -2645.4353   -2253.9224 
     900    272.02953   -453.73465   -17194.511    -2393.215   -27934.433   -15425.723    10365.929    563.75917   -1771.9539 
    1000    272.16012   -453.50162   -17619.867   -6491.6101   -27029.629   -22710.312    13235.773     2862.269    1411.0319 
Loop time of 435.322 on 1 procs for 1000 steps with 62 atoms

Performance: 0.020 ns/day, 1209.226 hours/ns, 2.297 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 435.29     | 435.29     | 435.29     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0063922  | 0.0063922  | 0.0063922  |   0.0 |  0.00
Output  | 0.001035   | 0.001035   | 0.001035   |   0.0 |  0.00
Modify  | 0.017724   | 0.017724   | 0.017724   |   0.0 |  0.00
Other   |            | 0.006906   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        699.000 ave         699 max         699 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4274.00 ave        4274 max        4274 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4274
Ave neighs/atom = 68.935484
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.954 | 2.954 | 2.954 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    272.16012   -453.50162   -17620.043            0            0            0            0            0            0 
     100    281.57913   -453.89999   -9778.0425   -430.74042   -22461.831   -22200.296    14712.041    2664.0452    1360.1541 
     200    276.17612   -453.64758   -5110.3508    17561.718   -22057.756   -13409.141    9341.3611   -1653.5861   -1402.9247 
     300    298.45192   -453.62485     -10904.2    9597.2449   -25194.745   -12199.413    9044.9524   -2258.2691   -4395.2982 
Loop time of 137.904 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1276.892 hours/ns, 2.175 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 137.89     | 137.89     | 137.89     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.002584   | 0.002584   | 0.002584   |   0.0 |  0.00
Output  | 0.00041366 | 0.00041366 | 0.00041366 |   0.0 |  0.00
Modify  | 0.0068781  | 0.0068781  | 0.0068781  |   0.0 |  0.00
Other   |            | 0.00241    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        703.000 ave         703 max         703 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4286.00 ave        4286 max        4286 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4286
Ave neighs/atom = 69.129032
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 34.9775905720936
variable C2pos equal ${d2}
variable C2pos equal 65.9590997704635
variable C3pos equal ${d3}
variable C3pos equal 142.93593887112
variable C4pos equal ${d4}
variable C4pos equal 18.4494001315058
variable C5pos equal ${d5}
variable C5pos equal 8.55472218790762
variable C6pos equal ${d6}
variable C6pos equal 1.4500918056631

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(47.570370160387+${C1pos})
variable C13 equal 0.5*(47.570370160387+34.9775905720936)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(24.2900405710626+${C2pos})
variable C23 equal 0.5*(24.2900405710626+65.9590997704635)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(84.7528171148755+${C3pos})
variable C33 equal 0.5*(84.7528171148755+142.93593887112)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(-15.8246609088161+${C4pos})
variable C43 equal 0.5*(-15.8246609088161+18.4494001315058)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(-4.85753054752306+${C5pos})
variable C53 equal 0.5*(-4.85753054752306+8.55472218790762)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(5.17342916025765+${C6pos})
variable C63 equal 0.5*(5.17342916025765+1.4500918056631)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.4004157087544
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.4004157087544
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -2.1181506)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.18469     6258.523            0            0            0            0            0            0 
     100    265.71671   -454.00296    7576.9795    19711.849   -13681.454    13623.402    12759.229    1176.2168    16443.435 
     200    259.80114   -453.71469    7085.3273    24477.081   -11498.526    9141.5364    6025.6423   -2693.3101    15760.584 
     300    267.51339   -453.47125    4330.7729    16916.887   -12868.793    10218.764    7859.4055   -3029.5256     11338.26 
     400    303.12605   -453.58398    3479.0974    11469.274   -13323.622    11121.186    13531.067   -2100.4789    11382.622 
     500    301.07981   -453.62537    14079.509    14908.868   -4253.0037    15493.356    16690.325   -7986.5482     7807.899 
     600    291.21071    -453.7532    12861.703    23175.199   -1720.2306     21417.93    15787.865   -9816.3499    5138.7398 
     700    285.59035   -453.89981    8183.4368    25222.873   -6540.2448    16612.008    12604.677   -2887.0045    5389.8353 
     800    321.02995   -453.91794    3996.8135    16588.695    -12738.32    16788.121    11318.849   -1837.8998    7974.2133 
     900    272.68013    -453.7843   -3980.2895    5340.0778   -18568.813    7416.2557     10084.93    1657.8301     8020.458 
    1000    274.89446   -453.58154   -4447.3043    1624.4854   -18076.038   -111.04637    13086.284    3971.1741    11133.925 
Loop time of 448.746 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1246.516 hours/ns, 2.228 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 448.71     | 448.71     | 448.71     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0069845  | 0.0069845  | 0.0069845  |   0.0 |  0.00
Output  | 0.0011716  | 0.0011716  | 0.0011716  |   0.0 |  0.00
Modify  | 0.018581   | 0.018581   | 0.018581   |   0.0 |  0.00
Other   |            | 0.007151   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        735.000 ave         735 max         735 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4354.00 ave        4354 max        4354 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4354
Ave neighs/atom = 70.225806
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    274.89446   -453.58154   -4447.0516            0            0            0            0            0            0 
     100    279.25103   -453.97272    3618.1237    7838.0027   -13098.447   -72.896096     14268.36    3624.0363    11242.014 
     200    276.58279   -453.74768    7755.6922    26151.466   -12691.839    7955.7919     8429.096   -1410.6016    7978.9851 
     300     300.4166   -453.71155    1866.2883    17882.229   -16149.969    9200.0563    8678.6126   -1886.5944    4324.4111 
Loop time of 140.327 on 1 procs for 300 steps with 62 atoms

Performance: 0.018 ns/day, 1299.323 hours/ns, 2.138 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 140.32     | 140.32     | 140.32     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0017211  | 0.0017211  | 0.0017211  |   0.0 |  0.00
Output  | 0.00027323 | 0.00027323 | 0.00027323 |   0.0 |  0.00
Modify  | 0.0047932  | 0.0047932  | 0.0047932  |   0.0 |  0.00
Other   |            | 0.001822   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4374.00 ave        4374 max        4374 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4374
Ave neighs/atom = 70.548387
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 6.44733208668649
variable C2neg equal ${d2}
variable C2neg equal -20.735221133588
variable C3neg equal ${d3}
variable C3neg equal -35.9385913881715
variable C4neg equal ${d4}
variable C4neg equal 25.1491460829657
variable C5neg equal ${d5}
variable C5neg equal -6.69634848902241
variable C6neg equal ${d6}
variable C6neg equal -3.28179037077005

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.4004157087544
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.7421340)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.15201     5388.013            0            0            0            0            0            0 
     100    267.48525   -454.02042    6591.7036     18634.24   -14277.579    12841.218    17059.013    1276.9331   -14842.563 
     200    257.95474   -453.67172    5764.3388    23321.213   -12557.593    7910.3834    9286.9865   -1947.0771   -8112.8307 
     300    270.05362   -453.42975    3351.1503    16217.482   -13794.655    8474.3945    10219.642   -2773.9774   -10244.283 
     400    303.76925   -453.55438     2753.075    11232.004    -14335.96    9968.1684    15506.974   -2008.4795   -9965.1636 
     500    296.85915   -453.58298    13804.643    14789.491    -5271.293    15525.863    18413.708   -7695.7617   -13526.083 
     600    291.31414   -453.69254    12641.706    23367.436   -2860.5201    21573.828    17507.019   -9357.0454   -15434.587 
     700    285.81662   -453.86182    7177.7195    24652.714   -7670.1787    16402.353     14180.37   -2801.8006   -14480.893 
     800    321.39781   -453.89331    3039.6632    15367.518   -14031.073    15780.882    12687.637    -2274.426   -11517.953 
     900    271.11844   -453.74554   -4725.3762    4694.7223   -19782.671    6731.5402    11599.518    1168.2874   -10793.326 
    1000    273.62696    -453.5264   -5287.0387    834.69925   -19102.838   -695.17243     14558.72     3587.787   -7232.6431 
Loop time of 447.986 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1244.407 hours/ns, 2.232 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 447.96     | 447.96     | 447.96     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0061846  | 0.0061846  | 0.0061846  |   0.0 |  0.00
Output  | 0.00085688 | 0.00085688 | 0.00085688 |   0.0 |  0.00
Modify  | 0.017316   | 0.017316   | 0.017316   |   0.0 |  0.00
Other   |            | 0.00687    |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4346.00 ave        4346 max        4346 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4346
Ave neighs/atom = 70.096774
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    273.62696   -453.52643   -5286.9934            0            0            0            0            0            0 
     100    281.15914   -453.94446    2367.8555    7400.0779   -14404.764   -1413.9188    16075.461    3216.6749   -7344.2034 
     200    275.74819   -453.68723    6584.2757    25764.157   -14359.238    6526.2082    10694.234   -1487.3271    -9822.062 
     300    299.06795   -453.64954    882.53586    17248.754   -17868.416    7836.4719    10565.982   -1916.4515   -12491.659 
Loop time of 139.843 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1294.840 hours/ns, 2.145 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 139.83     | 139.83     | 139.83     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.002738   | 0.002738   | 0.002738   |   0.0 |  0.00
Output  | 0.00037551 | 0.00037551 | 0.00037551 |   0.0 |  0.00
Modify  | 0.0070126  | 0.0070126  | 0.0070126  |   0.0 |  0.01
Other   |            | 0.002809   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        717.000 ave         717 max         717 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4366.00 ave        4366 max        4366 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4366
Ave neighs/atom = 70.419355
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -3.27995345487499
variable C2pos equal ${d2}
variable C2pos equal 29.3274549846125
variable C3pos equal ${d3}
variable C3pos equal 42.7565132513251
variable C4pos equal ${d4}
variable C4pos equal 58.9312032689332
variable C5pos equal ${d5}
variable C5pos equal 6.84563400028572
variable C6pos equal ${d6}
variable C6pos equal -6.15505801989565

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(6.44733208668649+${C1pos})
variable C14 equal 0.5*(6.44733208668649+-3.27995345487499)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(-20.735221133588+${C2pos})
variable C24 equal 0.5*(-20.735221133588+29.3274549846125)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(-35.9385913881715+${C3pos})
variable C34 equal 0.5*(-35.9385913881715+42.7565132513251)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(25.1491460829657+${C4pos})
variable C44 equal 0.5*(25.1491460829657+58.9312032689332)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(-6.69634848902241+${C5pos})
variable C54 equal 0.5*(-6.69634848902241+6.84563400028572)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-3.28179037077005+${C6pos})
variable C64 equal 0.5*(-3.28179037077005+-6.15505801989565)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 9.4004157087544
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*9.4004157087544
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.34196778 -1.9301423)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.13013    7564.6523            0            0            0            0            0            0 
     100    267.31816   -454.02313    6982.5335    20796.144   -16106.889    15288.936    15180.547    16768.565    793.80922 
     200    259.95773   -453.71429    5598.5137    22830.893   -13418.344    8690.2346    8149.1771    4058.4811    3549.7306 
     300    269.20236    -453.4808    3367.4534    16174.023   -14996.735    9362.7968    9498.6906    3577.5709    388.99047 
     400    303.87337   -453.59384    2517.0238    10987.501   -15695.805    11081.378    14591.325    5551.9709    702.27023 
     500    299.99055   -453.63217    13186.886    14205.043   -6673.4559    16050.035    17495.567   -1079.9619   -2855.2423 
     600    290.61218   -453.74496    11843.139    22247.916   -4278.9745    21792.137    16661.831   -3252.7914   -5223.1871 
     700    284.22031   -453.88525    6763.0045    24016.911   -9128.3986    16808.421    13494.603    3604.5244   -4600.2776 
     800    321.40332   -453.90442    2560.0009    14761.897   -15133.986    16576.803    12252.459     4200.075    -1760.875 
     900    270.72525   -453.75919   -5145.4385    3533.0424   -20690.478    7661.3349    10945.582    7291.0127   -1278.5217 
    1000    275.72286   -453.56284   -5905.9112    59.044913    -20260.42   -118.40786    14086.947    9674.0437    2090.0889 
Loop time of 448.613 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1246.147 hours/ns, 2.229 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 448.57     | 448.57     | 448.57     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0087633  | 0.0087633  | 0.0087633  |   0.0 |  0.00
Output  | 0.0010271  | 0.0010271  | 0.0010271  |   0.0 |  0.00
Modify  | 0.022315   | 0.022315   | 0.022315   |   0.0 |  0.00
Other   |            | 0.008564   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4342.00 ave        4342 max        4342 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4342
Ave neighs/atom = 70.032258
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    275.72286   -453.56281   -5905.9976            0            0            0            0            0            0 
     100    279.39436   -453.95804    2066.6712    6300.2423   -15668.034   -515.86623    15439.635    9552.1186    2130.9058 
     200    276.50116   -453.72156    6085.6903    24898.386   -15498.327    7405.8578    9949.2734    4676.6709    -943.1372 
     300    299.93468   -453.68634    365.86423    16659.897   -18999.425    8339.3303    10108.712    3967.2902   -4159.0807 
Loop time of 135.823 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1257.616 hours/ns, 2.209 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 135.81     | 135.81     | 135.81     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0018425  | 0.0018425  | 0.0018425  |   0.0 |  0.00
Output  | 0.00026917 | 0.00026917 | 0.00026917 |   0.0 |  0.00
Modify  | 0.0051553  | 0.0051553  | 0.0051553  |   0.0 |  0.00
Other   |            | 0.002054   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4362.00 ave        4362 max        4362 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4362
Ave neighs/atom = 70.354839
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 0.335668559279493
variable C2neg equal ${d2}
variable C2neg equal -34.9824995973955
variable C3neg equal ${d3}
variable C3neg equal -40.2422213717815
variable C4neg equal ${d4}
variable C4neg equal -17.2683125459043
variable C5neg equal ${d5}
variable C5neg equal 22.5730743784527
variable C6neg equal ${d6}
variable C6neg equal 3.86870834451865

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*9.4004157087544
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 0.188008314175088 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 0.034048849 -1.9301423)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.17319    4314.7766            0            0            0            0            0            0 
     100    267.85205   -454.03812    6880.9802    17096.115   -11592.187    11127.735    14608.425   -14262.528    879.26415 
     200    257.39906   -453.70306    7238.8927    24043.673   -10135.423    8269.1355    7140.5525   -8776.2614    4167.6251 
     300    268.53845   -453.45621    4411.7143    16645.669   -11193.902    9404.3835    8532.1544   -9347.5674    771.54157 
     400    303.01048   -453.57626    3693.2702    11362.904    -11531.07    10068.114     14397.54   -9634.7801    769.37063 
     500    297.87063   -453.60699    14621.756    15000.092   -2421.0553    14877.129    17558.572   -14660.985   -2802.4684 
     600    291.84737   -453.72842    13643.334    23804.213     171.9022    21059.573    16600.889   -16027.078   -5037.8096 
     700    287.18508   -453.90475    8553.2927    25460.582   -4606.7746    16023.611    13262.656   -9392.7064   -4525.0578 
     800    321.45306   -453.93542    4407.2518    16778.813    -11212.44    15695.319    11770.742   -8458.4479   -1802.6177 
     900    273.30677   -453.79874   -3650.7772      6091.87   -17195.909     6217.023    10732.085   -4632.6208   -1481.8171 
    1000    272.57841   -453.56888   -3900.0925    1977.7557    -16461.64   -962.96903    13560.267   -2206.3176    1768.5351 
Loop time of 443.762 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1232.673 hours/ns, 2.253 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 443.72     | 443.72     | 443.72     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0082495  | 0.0082495  | 0.0082495  |   0.0 |  0.00
Output  | 0.0010843  | 0.0010843  | 0.0010843  |   0.0 |  0.00
Modify  | 0.021001   | 0.021001   | 0.021001   |   0.0 |  0.00
Other   |            | 0.008161   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4338.00 ave        4338 max        4338 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4338
Ave neighs/atom = 69.967742
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    272.57841   -453.56888   -3900.0258            0            0            0            0            0            0 
     100    280.94144   -453.98361    3857.0354    8585.7809   -11391.107   -1231.6716     14890.37   -2836.5114    1740.2268 
     200    275.68661   -453.73672      8187.79    26648.906   -11108.819    6815.4934    9138.3687   -7717.1348   -918.18039 
     300    299.51856   -453.69986    2324.5979    18165.241   -14607.869    8424.7522    9146.5896   -7834.1717   -4057.0846 
Loop time of 135.72 on 1 procs for 300 steps with 62 atoms

Performance: 0.019 ns/day, 1256.663 hours/ns, 2.210 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 135.71     | 135.71     | 135.71     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0023432  | 0.0023432  | 0.0023432  |   0.0 |  0.00
Output  | 0.00033927 | 0.00033927 | 0.00033927 |   0.0 |  0.00
Modify  | 0.0058372  | 0.0058372  | 0.0058372  |   0.0 |  0.00
Other   |            | 0.002373   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4400.00 ave        4400 max        4400 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4400
Ave neighs/atom = 70.967742
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -7.862389341907
variable C2pos equal ${d2}
variable C2pos equal 13.0247214132235
variable C3pos equal ${d3}
variable C3pos equal 39.8151116573337
variable C4pos equal ${d4}
variable C4pos equal 16.7583323431255
variable C5pos equal ${d5}
variable C5pos equal 36.4342352256386
variable C6pos equal ${d6}
variable C6pos equal 0.9419057553126

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(0.335668559279493+${C1pos})
variable C15 equal 0.5*(0.335668559279493+-7.862389341907)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(-34.9824995973955+${C2pos})
variable C25 equal 0.5*(-34.9824995973955+13.0247214132235)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(-40.2422213717815+${C3pos})
variable C35 equal 0.5*(-40.2422213717815+39.8151116573337)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-17.2683125459043+${C4pos})
variable C45 equal 0.5*(-17.2683125459043+16.7583323431255)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(22.5730743784527+${C5pos})
variable C55 equal 0.5*(22.5730743784527+36.4342352256386)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(3.86870834451865+${C6pos})
variable C65 equal 0.5*(3.86870834451865+0.9419057553126)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 7.47179647029971

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -0.02*${len0}
variable delta equal -0.02*7.47179647029971
variable deltaxy equal -${up}*xy
variable deltaxy equal -0.02*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -0.02*xz
variable deltayz equal -${up}*yz
variable deltayz equal -0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -0.149435929405994 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.32410453 -0.15395947 -1.9301423)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.05307    6753.3979            0            0            0            0            0            0 
     100     271.1666   -453.90326    7566.8201    19577.234   -13396.801     13391.71    29084.793    4864.4999   -1315.2819 
     200    257.70065   -453.56763    6793.0895     23910.93    -11855.24    8887.8214    19183.119   -516.24315    2322.9668 
     300    269.97307   -453.33551    4062.4178    16968.922   -13482.339    9720.4006    20015.465   -1044.5726   -643.76008 
     400    303.56155   -453.45016    3150.0736    11316.681   -14181.075    11116.019    25352.881   -173.80708   -274.07308 
     500    298.27451   -453.48862    13990.827    14704.451   -4833.0549    15859.945    27890.853   -6492.0642   -3902.1169 
     600    290.97198   -453.60046    12921.312    23340.211   -2362.8728     21730.51    26565.222   -8268.3615   -6272.6189 
     700    285.42172   -453.76114    7668.1726    24992.742   -7292.3374     16765.26    23121.644   -1401.9124   -5585.2735 
     800    321.67829   -453.79523     3490.851     16151.22   -13444.656    16318.769    21881.746   -766.97206   -2829.0306 
     900     272.2067   -453.65564   -4168.7442     5022.634   -18911.168    7172.3543    20991.581     2828.684   -2357.6126 
    1000    275.06209   -453.44913   -4773.2908    1391.1088   -18317.779   -346.80954    24389.886    5244.9439    1094.9616 
Loop time of 445.206 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1236.684 hours/ns, 2.246 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 445.16     | 445.16     | 445.16     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0089579  | 0.0089579  | 0.0089579  |   0.0 |  0.00
Output  | 0.0010092  | 0.0010092  | 0.0010092  |   0.0 |  0.00
Modify  | 0.022383   | 0.022383   | 0.022383   |   0.0 |  0.01
Other   |            | 0.008959   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4352.00 ave        4352 max        4352 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4352
Ave neighs/atom = 70.193548
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    275.06209   -453.44913   -4772.7956            0            0            0            0            0            0 
     100    279.77119   -453.84753    3093.3582    7686.9237   -13500.775   -787.81108     25530.25    4891.8321    1100.6742 
     200    276.39125   -453.61481    7215.7012    26152.615   -13528.928    7271.8437    19867.273    169.24398    -1831.028 
     300     300.3128   -453.57785    1337.7727    17830.955    -17271.54    8539.5138    20018.645   -179.86327   -5013.2527 
Loop time of 140.456 on 1 procs for 300 steps with 62 atoms

Performance: 0.018 ns/day, 1300.517 hours/ns, 2.136 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 140.44     | 140.44     | 140.44     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0026529  | 0.0026529  | 0.0026529  |   0.0 |  0.00
Output  | 0.00031757 | 0.00031757 | 0.00031757 |   0.0 |  0.00
Modify  | 0.0062685  | 0.0062685  | 0.0062685  |   0.0 |  0.00
Other   |            | 0.002722   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4356.00 ave        4356 max        4356 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4356
Ave neighs/atom = 70.258065
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 6.190957942829
variable C2neg equal ${d2}
variable C2neg equal -26.3430725511415
variable C3neg equal ${d3}
variable C3neg equal -39.2413038805453
variable C4neg equal ${d4}
variable C4neg equal -21.5391726427843
variable C5neg equal ${d5}
variable C5neg equal 1.8373069857877
variable C6neg equal ${d6}
variable C6neg equal 53.4183694459737

# Reset box and simulation parameters

clear
OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src/comm.cpp:98)
  using 1 OpenMP thread(s) per MPI task
box tilt large
read_restart restart.equil
Reading restart file ...
  restart file = 29 Sep 2021, LAMMPS = 29 Sep 2021
  restoring atom style atomic from restart
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.17466860 -0.15395947 -1.9301423)
  1 by 1 by 1 MPI processor grid
  pair style nequip stores no restart info
  62 atoms
  read_restart CPU = 0.000 seconds
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457



# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 0.02*${len0}
variable delta equal 0.02*7.47179647029971
variable deltaxy equal ${up}*xy
variable deltaxy equal 0.02*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 0.02*xz
variable deltayz equal ${up}*yz
variable deltayz equal 0.02*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 0.149435929405994 remap units box
Changing box ...
  triclinic box = (-0.015245552 -0.010220454 -0.012858557) to (11.130214 7.4615760 9.3875572) with tilt (-0.025232671 -0.15395947 -1.9301423)

# Run MD

run ${nequil}
run 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 6
  ghost atom cutoff = 6
  binsize = 3, bins = 4 4 4
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nequip, perpetual
      attributes: full, newton off
      pair build: full/bin/atomonly
      stencil: full/bin/3d
      bin: standard
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0    302.88291   -454.27701    5107.3936            0            0            0            0            0            0 
     100    261.53831    -454.1199    6853.6054    18686.602   -13529.898    12706.228    789.40319   -2221.7643    3053.5825 
     200    259.64302   -453.81711    6413.0992    23687.744   -11229.695    8285.8452   -3829.4939   -3966.4852    5423.4778 
     300    267.73271   -453.56351    3975.2979    16158.637   -12179.197    9087.4769   -1926.8673   -4655.9904    1876.4716 
     400    303.47233   -453.68317    3354.6234    11343.244   -12595.858    10080.565    3723.5992   -3823.7731    1844.9008 
     500    299.56538    -453.7131    14138.987    14917.675   -3899.8754    15224.207    7257.8438   -9110.9948   -1713.3083 
     600    291.40137   -453.83374    12861.108    23144.488   -1385.4476    21284.885    6802.5796   -10859.533   -3961.4159 
     700     286.1739   -453.99115    7936.4997    24864.298   -6073.3977    16193.293    3728.0491   -4213.5456    -3522.586 
     800    321.04784   -454.00424     3783.397    15775.543   -12524.185    16059.735    2250.6174   -3282.1347    -713.0097 
     900    271.77133   -453.86078   -4333.0912    4907.1258   -18557.267    6804.6775    806.68839    29.204354   -353.85158 
    1000     273.5396   -453.64316   -4761.1324     932.3443   -17933.246   -652.70381    3377.7302    2358.1859    2808.2143 
Loop time of 444.732 on 1 procs for 1000 steps with 62 atoms

Performance: 0.019 ns/day, 1235.366 hours/ns, 2.249 timesteps/s
99.9% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 444.69     | 444.69     | 444.69     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0081346  | 0.0081346  | 0.0081346  |   0.0 |  0.00
Output  | 0.0010731  | 0.0010731  | 0.0010731  |   0.0 |  0.00
Modify  | 0.019791   | 0.019791   | 0.019791   |   0.0 |  0.00
Other   |            | 0.007724   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        729.000 ave         729 max         729 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4348.00 ave        4348 max        4348 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4348
Ave neighs/atom = 70.129032
Neighbor list builds = 0
Dangerous builds = 0
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# we must undefine any fix ave/* fix before using reset_timestep
if "$(is_defined(fix,avp))" then "unfix avp"
unfix avp
reset_timestep 0

newton off

# Choose potential
# pair_style	sw
# pair_coeff * * Si.sw Si
pair_style	nequip
pair_coeff	* * tob9_l3-deployed.pth Ca H O Si

atom_modify sort 0 0.0
#kspace_style	ewald 1.0e-6# Setup neighbor style

neighbor 2.0 bin
neigh_modify once no every 1 delay 0 check yes



# Setup output

fix avp all ave/time  ${nevery} ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 ${nrepeat} ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 ${nfreq} c_thermo_press mode vector
fix avp all ave/time  10 10 100 c_thermo_press mode vector

#min_style cg
#minimize 1.0e-15 1.0e-15 100000 100000 #设置能量最小化

thermo		${nthermo}
thermo		100
thermo_style custom step temp pe press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6]
WARNING: New thermo_style command, previous thermo_modify settings will be lost (src/output.cpp:689)
thermo_modify norm no

# Setup MD

timestep ${timestep}
timestep 0.0001
fix 4 all nve
if "${thermostat} == 1" then    "fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}"
fix 5 all langevin ${temp} ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 ${temp} ${tdamp} ${seed}
fix 5 all langevin 300 300 ${tdamp} ${seed}
fix 5 all langevin 300 300 0.007 ${seed}
fix 5 all langevin 300 300 0.007 123457


run ${nrun}
run 300
Per MPI rank memory allocation (min/avg/max) = 2.957 | 2.957 | 2.957 Mbytes
Step Temp PotEng Press f_avp[1] f_avp[2] f_avp[3] f_avp[4] f_avp[5] f_avp[6] 
       0     273.5396   -453.64316    -4760.965            0            0            0            0            0            0 
     100    280.60575   -454.05435    3085.3193    7496.9294   -13117.495   -934.40328    4944.6758    1982.0095    2833.7804 
     200    275.74831   -453.80161    7281.0484    25618.825   -12650.117       6996.8   -644.90177   -3028.4446     30.34074 
     300    299.14175   -453.76492    1567.6867    17179.197   -15849.251    8244.8912   -624.03435   -3564.5247   -3159.7867 
Loop time of 140.493 on 1 procs for 300 steps with 62 atoms

Performance: 0.018 ns/day, 1300.864 hours/ns, 2.135 timesteps/s
99.8% CPU use with 1 MPI tasks x 1 OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 140.48     | 140.48     | 140.48     |   0.0 | 99.99
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0029085  | 0.0029085  | 0.0029085  |   0.0 |  0.00
Output  | 0.00033545 | 0.00033545 | 0.00033545 |   0.0 |  0.00
Modify  | 0.006582   | 0.006582   | 0.006582   |   0.0 |  0.00
Other   |            | 0.002643   |            |       |  0.00

Nlocal:        62.0000 ave          62 max          62 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:        723.000 ave         723 max         723 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:         0.00000 ave           0 max           0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:      4382.00 ave        4382 max        4382 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 4382
Ave neighs/atom = 70.677419
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable pxx1 equal f_avp[1]
variable pyy1 equal f_avp[2]
variable pzz1 equal f_avp[3]
variable pxy1 equal f_avp[4]
variable pxz1 equal f_avp[5]
variable pyz1 equal f_avp[6]

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -2.93217127894999
variable C2pos equal ${d2}
variable C2pos equal 19.231627205146
variable C3pos equal ${d3}
variable C3pos equal 40.7144169355171
variable C4pos equal ${d4}
variable C4pos equal 12.27184289332
variable C5pos equal ${d5}
variable C5pos equal 15.0860000040112
variable C6pos equal ${d6}
variable C6pos equal 49.7950253432244

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(6.190957942829+${C1pos})
variable C16 equal 0.5*(6.190957942829+-2.93217127894999)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(-26.3430725511415+${C2pos})
variable C26 equal 0.5*(-26.3430725511415+19.231627205146)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(-39.2413038805453+${C3pos})
variable C36 equal 0.5*(-39.2413038805453+40.7144169355171)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-21.5391726427843+${C4pos})
variable C46 equal 0.5*(-21.5391726427843+12.27184289332)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(1.8373069857877+${C5pos})
variable C56 equal 0.5*(1.8373069857877+15.0860000040112)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(53.4183694459737+${C6pos})
variable C66 equal 0.5*(53.4183694459737+49.7950253432244)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 169.596896297126
variable C22all equal ${C22}
variable C22all equal 169.106147071162
variable C33all equal ${C33}
variable C33all equal 113.844377992998

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(55.9865073772712+${C21})
variable C12all equal 0.5*(55.9865073772712+52.6776159093389)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(41.2739803662403+${C31})
variable C13all equal 0.5*(41.2739803662403+38.6348657859631)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(45.1245701707631+${C32})
variable C23all equal 0.5*(45.1245701707631+49.7817706018825)

variable C44all equal ${C44}
variable C44all equal 42.0401746759495
variable C55all equal ${C55}
variable C55all equal 29.5036548020457
variable C66all equal ${C66}
variable C66all equal 51.6066973945991

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(1.58368931590575+${C41})
variable C14all equal 0.5*(1.58368931590575+0.63718633811785)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-3.76336039131375+${C51})
variable C15all equal 0.5*(-3.76336039131375+-3.05630608967367)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(1.6293933319395+${C61})
variable C16all equal 0.5*(1.6293933319395+4.32790495115)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(4.29611692551225+${C42})
variable C24all equal 0.5*(4.29611692551225+3.871703253038)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-10.978889092086+${C52})
variable C25all equal 0.5*(-10.978889092086+-11.8836011532993)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(-3.55572267299775+${C62})
variable C26all equal 0.5*(-3.55572267299775+-0.445793530123202)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(3.4089609315768+${C43})
variable C34all equal 0.5*(3.4089609315768+1.31236961134485)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-0.213554857223897+${C53})
variable C35all equal 0.5*(-0.213554857223897+1.84859582019228)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(0.736556527485899+${C63})
variable C36all equal 0.5*(0.736556527485899+3.31176048296038)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-0.254990101389401+${C54})
variable C45all equal 0.5*(-0.254990101389401+0.0746427556316553)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-4.63366487473215+${C64})
variable C46all equal 0.5*(-4.63366487473215+-4.71842419533285)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(8.46165349489945+${C65})
variable C56all equal 0.5*(8.46165349489945+2.40530704991563)


print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 169.596896297126 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 169.106147071162 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 113.844377992998 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 54.3320616433051 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 39.9544230761017 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 47.4531703863228 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 42.0401746759495 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 29.5036548020457 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 51.6066973945991 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 1.1104378270118 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = -3.40983324049371 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 2.97864914154475 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = 4.08391008927513 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = -11.4312451226926 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -2.00075810156048 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = 2.36066527146082 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = 0.817520481484192 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 2.02415850522314 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -0.0901736728788728 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -4.6760445350325 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = 5.43348027240754 GPa

print " "
 
print "Cij tensor matrix"
Cij tensor matrix
print " "
 
print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}"
169.596896297126  54.3320616433051  39.9544230761017  1.1104378270118  -3.40983324049371  2.97864914154475
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}"
54.3320616433051  169.106147071162  47.4531703863228  4.08391008927513  -11.4312451226926  -2.00075810156048
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}"
39.9544230761017  47.4531703863228  113.844377992998  2.36066527146082  0.817520481484192  2.02415850522314
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}"
1.1104378270118  4.08391008927513  2.36066527146082  42.0401746759495  -0.0901736728788728  -4.6760445350325
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}"
-3.40983324049371  -11.4312451226926  0.817520481484192  -0.0901736728788728  29.5036548020457  5.43348027240754
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}"
2.97864914154475  -2.00075810156048  2.02415850522314  -4.6760445350325  5.43348027240754  51.6066973945991

print "${C11all}  ${C12all}  ${C13all}  ${C14all}  ${C15all}  ${C16all}" file Cij.dat screen no
print "${C12all}  ${C22all}  ${C23all}  ${C24all}  ${C25all}  ${C26all}" append Cij.dat screen no
print "${C13all}  ${C23all}  ${C33all}  ${C34all}  ${C35all}  ${C36all}" append Cij.dat screen no
print "${C14all}  ${C24all}  ${C34all}  ${C44all}  ${C45all}  ${C46all}" append Cij.dat screen no
print "${C15all}  ${C25all}  ${C35all}  ${C45all}  ${C55all}  ${C56all}" append Cij.dat screen no
print "${C16all}  ${C26all}  ${C36all}  ${C46all}  ${C56all}  ${C66all}" append Cij.dat screen no

write_restart restart2
System init for write_restart ...
Total wall time: 2:52:09
